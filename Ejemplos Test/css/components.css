.acrylic-background, .content, .list-summary {
  background: var(--acrylic-bg-color);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  margin-bottom: 20px;
  color: var(--card-text-color);
}

/* Carousel */
.carousel-container {
  max-width: 992px;
  margin: 0 auto;
}

.carousel-item img {
  height: 300px;
  width: 100%;
  object-fit: cover;
}

/* Summary Cards */
.summary {
  background: var(--card-bg-color);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: flex;
  align-items: stretch;
  margin-bottom: 20px;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6);
  color: var(--card-text-color);
  transition: transform 0.2s ease-in-out;
  min-width: 300px;
  min-height: 200px;
}

.summary:hover {
  transform: scale(1.03);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
}

.summary-image {
  width: 35%;
  overflow: hidden;
  max-height: 15rem;
  min-height: 10rem;
}

.summary-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.2s ease-in-out;
}

.summary-image a:hover img {
  opacity: 0.7;
}

.summary-content {
  flex: 1;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow: auto;
}

.summary-title {
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.summary-title a {
  text-decoration: none;
  color: var(--card-text-color);
}

.summary-title a:hover {
  color: var(--link-hover-color);
}

/* Toggle Container Styles */
.list-summary .toggle-container {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 1.5rem;
  padding: 0;
  width: 100%;
  position: relative;
  z-index: 2;
}

.list-summary .toggle-container button {
  min-width: 100px;
  margin-left: auto;
}

.summary-date {
  font-size: 0.9rem;
  color: var(--text-color);
}

.summary-description {
  font-size: 0.95rem;
  line-height: 1.4;
  color: var(--text-color);
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  overflow: hidden;
  margin-top: 0.5rem;
}

/* Code Block Styles */
.code-block {
  margin: 1em 0;
  background-color: var(--code-bg-color);
  border-radius: 6px;
  overflow: hidden;
  position: relative;
  border: 1px solid var(--code-border-color);
  margin: auto;
}

.code-block__header {
  background-color: var(--code-header-bg-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.2em 1em;
}

.code-block__lang {
  font-size: 0.9rem;
  font-weight: bold;
  color: var(--text-color);
}

.code-block__copybtn {
  background: var(--code-header-bg-color);
  border: none;
  color: var(--card-text-color);
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 0.8rem;
  cursor: pointer;
}

.code-block__copybtn:hover {
  background: var(--code-header-bg-hover-color);
}

.code-block pre {
  margin: 0;
  padding: 1em;
  background: transparent;
}

pre code.hljs {
  background: none;
  padding: 0;
}

/* List Views */
.list-summary.lista,
.list-summary.cuadros {
  flex-wrap: wrap;
  gap: 2rem;
  justify-content: flex-start;
}

.list-summary.cuadros .summary {
  flex-direction: column;
  width: 300px;
  min-width: 250px;
  max-width: 100%;
  height: 350px;
  margin: auto;
}

.list-summary.cuadros .summary-image {
  width: 100%;
  min-height: 180px;
  max-height: 180px;
}

.list-summary.lista .summary {
  flex-direction: row;
  height: 180px;
  min-height: 200px;
  max-height: 220px;
  margin-bottom: 2rem;
}

.list-summary.lista .summary-image {
  width: 220px;
  height: 100%;
}

/* Igualar altura de cards en la vista de cuadrícula */
.list-summary.row {
  align-items: stretch;
}

.grid-item {
  display: flex;
  align-items: stretch;
}

.grid-item .card {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.grid-item .card-body {
  flex: 1;
}

/* List Controls */
.list-controls-container {
  max-width: 100rem;
  margin: 0 auto;
  padding-left: 10rem;
  padding-right: 10rem;
  margin-bottom: 20px;
  background: var(--acrylic-bg-color);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  padding: 1rem;
  border-radius: 0.5rem;
}

.list-controls-container .text-end {
  text-align: right !important;
}

.list-controls-container .pagination {
  justify-content: center;
}

.list-controls-container .btn-outline-primary,
.list-controls-container .btn-outline-secondary {
  background: var(--card-bg-color);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: var(--card-text-color);
  border-color: var(--button-outline-border-color);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

.list-controls-container .btn-outline-primary:hover,
.list-controls-container .btn-outline-secondary:hover {
  background: var(--button-outline-hover-bg-color);
  color: var(--card-text-color);
  border-color: var(--button-outline-hover-border-color);
}

.list-controls-container button.active-view {
  background: var(--button-active-bg-color);
  border-color: var(--highlight-color);
  color: var(--card-text-color);
}

body {
    font-family: sans-serif;
}

/* Normalización de altura para cards e imágenes */
#itemsContainer .card-img-top {
    width: 100%;
    height: 180px;
    object-fit: cover;
}

/* Contenedor de columnas como flex para altura uniforme */
#itemsContainer .row > .col {
    display: flex;
}

/* Cards ocupando todo el alto disponible */
#itemsContainer .card {
    display: flex;
    flex-direction: column;
    flex: 1;
    background-color: var(--card-bg-color);
    color: var(--card-text-color);
}

/* Card body creciendo para empujar el botón al fondo */
#itemsContainer .card-body {
    display: flex;
    flex-direction: column;
    flex: 1;
}

/* Botón al final del contenido */
#itemsContainer .btn {
    margin-top: auto;
}

/* Estilos anteriores de cards - eliminando height: 100% duplicado */
.card {
    background-color: var(--card-bg-color);
    color: var(--card-text-color);
}

/* Eliminar esta regla que podría entrar en conflicto con nuestra nueva configuración */
/* .card img {
    height: 50%; 
    object-fit: cover; 
} */

.list-item {
    display: none; /* Oculto por defecto, se mostrará cuando el body tenga la clase list-view */
    align-items: center; /* Alinea verticalmente la imagen y el contenido */
    margin-bottom: 10px;
    /*border: 1px solid var(--button-outline-border-color);*/
    border-radius: 4px;
    background-color: var(--card-bg-color); /* Añadido para consistencia */
    color: var(--card-text-color); /* Añadido para consistencia */
}
.list-item img {
    width: 100px; /* Ancho fijo para la imagen en la vista de lista */
    height: 100px; /* Altura fija para la imagen en la vista de lista */
    object-fit: cover;
    margin-right: 15px;
}
/* Por defecto, mostrar grid y ocultar list */
.grid-item { display: block; } /* o flex, o lo que corresponda según Bootstrap para .col-md-4 */

body.list-view .list-item {
    display: flex; /* Muestra los items de lista cuando el body tiene la clase list-view */
    /* altura dinámica con límite */
    max-height: 20vh;
    height: auto;
    overflow: hidden;
}
body.list-view .list-item p {
    font-size: 0.95rem;
    color: var(--text-color);
    margin-bottom: 0;
    line-height: 1.5;
    /* truncado de párrafos con ellipsis */
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3; /* propiedad estándar añadida para compatibilidad */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Altura dinámica para entradas en vista lista y mostrar títulos completos */
body.list-view .list-item {
  max-height: none !important;
  overflow: visible !important;
}
/* Asegurar truncado sólo en párrafos */
body.list-view .list-item p {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3; /* propiedad estándar añadida para compatibilidad */
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

body.list-view .grid-item {
    display: none; /* Oculta los items de grid cuando el body tiene la clase list-view */
}

.post-link-wrapper,
.post-link-wrapper:hover,
.post-link-wrapper:focus {
    text-decoration: none;
    color: inherit;
    display: contents; /* Para que el 'a' no afecte el layout de flex/grid de sus padres si es necesario, o display: block si envuelve un block item */
}

/* Estilos para el cambio entre vista de lista y cuadrícula */
/* Por defecto (vista de cuadrícula) */
.grid-item {
    display: block; /* Forzamos la visualización */

}

/* Mejorar el espaciado entre tarjetas cuando están en layout de cuadrícula */
#itemsContainer.row {
    gap: 1rem; /* Espacio entre tarjetas */
}

/* Añadir más espacio a las tarjetas */
.grid-item .card {
    height: 150%;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    box-shadow: 0 .5rem 1rem rgba(0,0,0,0.6);
}

.grid-item .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
}

/* truncado de texto en tarjetas grid */
.grid-item .card-text {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3; /* propiedad estándar añadida para compatibilidad */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Cuando se activa la vista de lista */
body.list-view .grid-item {
    display: none !important; /* Forzamos ocultar elementos de cuadrícula */
}
body.list-view .list-item {
    display: flex !important; /* Mostramos los elementos de lista como flex para el layout */
    width: 100%;
    margin-bottom: 1rem;
    background-color: var(--card-bg-color);
    border-radius: 0.75rem;
    box-shadow: 0 .5rem 1rem rgba(0,0,0,0.6);
    transition: transform .2s;
    height: 30vh;
}

body.list-view .list-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
}

body.list-view .list-item img {
    width: 30%; /* Reducido al 25% del ancho disponible */
    height: 100%;
    object-fit: cover;
    border-top-left-radius: 0.75rem;
    border-bottom-left-radius: 0.75rem;
    margin-right: 1.5rem;
}

body.list-view .list-item div {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

body.list-view .list-item h5 {
    font-size: 1.25rem;
    margin-bottom: 0.25rem;
    color: var(--card-text-color);
}

body.list-view .list-item .summary-date {
    font-size: 0.8rem;
    color: #6c757d;
    margin-bottom: 0.75rem;
}

body.list-view .list-item p {
    font-size: 0.95rem;
    color: var(--text-color);
    margin-bottom: 0;
    line-height: 1.5;
}

/* Ajuste responsive para vista de lista */
/* Eliminadas las reglas que cambiaban el layout en modo móvil */
/* 
@media (max-width: 768px) {
  #listView .card {
    flex-direction: column !important;
  }
  
  #listView .ratio {
    flex: none !important;
    width: 100%;
  }
  
  #listView .ratio .rounded-start {
    border-top-right-radius: 0.375rem;
    border-bottom-left-radius: 0 !important;
  }
  
  #listView .card-body {
    padding: 1rem;
  }
}
*/

/* Estilos para el modo lista usando Bootstrap list-group */
body.list-view #itemsContainer .list-group-item {
    background-color: var(--card-bg-color);
    color: var(--card-text-color);
    border-color: rgba(255, 255, 255, 0.1);
    transition: transform .2s, box-shadow .2s;
    margin-bottom: 1rem;
    border-radius: 0.75rem;
}

body.list-view #itemsContainer .list-group-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
    background-color: rgba(10, 10, 10, 0.7);
}

body.list-view #itemsContainer .list-group-item img {
    width: 120px;
    height: 120px;
    object-fit: cover;
}

/* Ocultar elementos según el modo de vista */
body.list-view .grid-item {
    display: none !important;
}

body:not(.list-view) #lista-container {
    display: none !important;
}

.post-link-wrapper,
.post-link-wrapper:hover,
.post-link-wrapper:focus {
    text-decoration: none;
    color: inherit;
}

/* Estilos para la vista de lista usando tarjetas horizontales */
#listView .card {
  background-color: var(--card-bg-color);
  color: var(--card-text-color);
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  border: none;
}

#listView .card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
}

/* Tamaño personalizado para contenedor de imágenes en vista lista */
#listView .ratio.ratio-16x9 {
  flex: 0 0 25rem;
}

#listView .card-body {
  padding: 1.25rem;
}

#listView .btn-primary {
  background-color: var(--highlight-color);
  border-color: var(--highlight-color);
}

/* Ajustes responsivos para la vista de lista */
/* Reglas específicas para mantener el layout horizontal en móviles */
@media (max-width: 768px) and (min-width: 576px) {
  #listView .card {
    flex-direction: row !important;
  }
  
  /* Ajustar tamaño de imagen para que sea más pequeña pero mantenga proporción */
  #listView .ratio {
    flex: 0 0 160px !important;
    width: 160px !important;
  }
  
  /* Mantener bordes redondeados solo en lado izquierdo */
  #listView .ratio .rounded-start {
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }
  
  /* Reducir padding en dispositivos pequeños */
  #listView .card-body {
    padding: 0.75rem;
  }
}

/* Para dispositivos muy pequeños (menos de 576px), forzar vista de cuadrícula */
@media (max-width: 575.98px) {
  /* Forzar modo cuadrícula */
  body {
    /* Resetear cualquier clase de vista de lista que se haya aplicado */
    &.list-view {
      .list-view {
        display: none !important;
      }
    }
  }
  
  /* Ocultar botones de cambio de vista */
  .toggle-container {
    display: none !important;
  }
  
  /* Mostrar siempre la vista de cuadrícula */
  #gridView {
    display: block !important;
  }
  
  /* Ocultar siempre la vista de lista */
  #listView {
    display: none !important;
  }
  
  /* Mostrar elementos de la cuadrícula */
  .grid-item {
    display: block !important;
  }
  
  /* Ajustar tamaño de las cards para que ocupen todo el ancho */
  #gridView .col {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

/* Hacer invisibles los contenedores según la vista activa */
body:not(.list-view) #listView {
  display: none !important;
}

body.list-view #gridView {
  display: none !important;
}

/* Excepto en pantallas pequeñas donde siempre mostramos la cuadrícula */
@media (max-width: 575.98px) {
  body.list-view #gridView {
    display: block !important;
  }
}
