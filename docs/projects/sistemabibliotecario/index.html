<!DOCTYPE html>
<html lang="es">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sistema de GestiÃ³n Bibliotecaria - BibliotecaForm</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  
  <link rel="icon" href="//localhost:1313/favicon.ico">
  
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  
  
  
    <link rel="stylesheet" href="../../css/chroma-syntax.css">
  
    <link rel="stylesheet" href="../../css/code-blocks.css">
  
    <link rel="stylesheet" href="../../css/NewStyles.css">
  
    <link rel="stylesheet" href="../../css/variables.css">
  
    <link rel="stylesheet" href="../../css/base.css">
  
    <link rel="stylesheet" href="../../css/header.css">
  
    <link rel="stylesheet" href="../../css/components.css">
  
    <link rel="stylesheet" href="../../css/footer.css">
  
    <link rel="stylesheet" href="../../css/utilities.css">
  
    <link rel="stylesheet" href="../../css/responsive.css">
  
    <link rel="stylesheet" href="../../css/lightbox.css">
  

  
  
    
    <meta name="description" content="Un sistema completo de gestiÃ³n bibliotecaria desarrollado en C# con Windows Forms, con interfaz MDI moderna y gestiÃ³n avanzada de sesiones.">
    
    
    <meta property="og:title" content="Sistema de GestiÃ³n Bibliotecaria - BibliotecaForm">
    <meta property="og:type" content="website">
    <meta property="og:url" content="//localhost:1313/projects/sistemabibliotecario/">
    <meta property="og:image" content="//localhost:1313/Capturas/BibliotecaInicio.png">
    <meta property="og:description" content="Un sistema completo de gestiÃ³n bibliotecaria desarrollado en C# con Windows Forms, con interfaz MDI moderna y gestiÃ³n avanzada de sesiones.">
    
    
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:site" content="@JAEM_Developer">
      <meta name="twitter:creator" content="@JAEM_Developer">
    
  
  
  
  <script>
     
    document.documentElement.classList.add('preload');
    
    (function() {
      const pref = localStorage.getItem('vistaPreferida') || 'list';  
      
      
      if (pref === 'grid') {
        document.documentElement.classList.add('grid-view');
        document.documentElement.classList.remove('list-view');
        document.body.classList.add('grid-view');
        document.body.classList.remove('list-view');
      } else {
        document.documentElement.classList.add('list-view');
        document.documentElement.classList.remove('grid-view');
        document.body.classList.add('list-view');
        document.body.classList.remove('grid-view');
      }
    })();
  </script>
</head>




<body class="d-flex flex-column min-vh-100 project single">
  
  
  <script>
  (function () {
    if (!window.matchMedia("(max-width: 768px)").matches) return;
    if (localStorage.getItem('menuShouldCloseOnLoad') !== 'true') return;
  
    document.addEventListener("DOMContentLoaded", () => {
      const menu = document.querySelector(".nav-menu");
      if (!menu) return;
  
       
      menu.classList.add("nav-menu_visible", "no-transition");
      void menu.offsetHeight;                 
      menu.classList.remove("no-transition"); 
  
       
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {         
          menu.classList.remove("nav-menu_visible");
          localStorage.removeItem('menuShouldCloseOnLoad');
        });
      });
    });
  })();
  </script>
<header class='header'>
  <nav class="nav">
    
    <a class="header-logo" href="//localhost:1313/">JAEM</a>

    
    <button class="nav-toggle" aria-label="Abrir menÃº">
      <i class="bi bi-list"></i>
    </button>

    <ul class="nav-menu">
      
      
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="menu-item-proyectos">
          <a class="nav-menu-link nav-link"
             href="../../projects/"
             
             >
            Proyectos
          </a>
        </li>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="menu-item-posts">
          <a class="nav-menu-link nav-link"
             href="../../posts/"
             
             >
            Posts
          </a>
        </li>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="menu-item-servicios disabled">
          <a class="nav-menu-link nav-link disabled"
             href="#"
             
             tabindex="-1" aria-disabled="true">
            Servicios
          </a>
        </li>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="menu-item-acerca">
          <a class="nav-menu-link nav-link"
             href="../../about/"
             
             >
            Acerca
          </a>
        </li>
      
    </ul>
    
  </nav>
</header>
    
  
    
    
    <main class="d-flex flex-fill justify-content-center align-items-stretch m-0 p-0">
      <div class="mid-wrapper d-flex flex-column flex-fill shadow w-100 text-white">
        
  <div class="fila">
    <div class="col-md-6 intro-content">
      <h1>Sistema de GestiÃ³n Bibliotecaria - BibliotecaForm</h1>
      <p>Un sistema completo de gestiÃ³n bibliotecaria desarrollado en C# con Windows Forms, con interfaz MDI moderna y gestiÃ³n avanzada de sesiones.</p>
    </div>
  </div>
      <p><a href="https://dotnet.microsoft.com/download/dotnet-framework"><figure class="lightbox-figure">
  <img
    src="https://img.shields.io/badge/.NET%20Framework-4.8-blue.svg"
    alt=".NET Framework"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="https://img.shields.io/badge/.NET%20Framework-4.8-blue.svg"
    data-lightbox-alt=".NET Framework"
    style="cursor: pointer;"
  /></figure>
</a>
<a href="https://www.microsoft.com/sql-server"><figure class="lightbox-figure">
  <img
    src="https://img.shields.io/badge/SQL%20Server-2019&#43;-red.svg"
    alt="SQL Server"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="https://img.shields.io/badge/SQL%20Server-2019&#43;-red.svg"
    data-lightbox-alt="SQL Server"
    style="cursor: pointer;"
  /></figure>
</a>
<a href="https://docs.microsoft.com/dotnet/desktop/winforms/"><figure class="lightbox-figure">
  <img
    src="https://img.shields.io/badge/UI-Windows%20Forms-green.svg"
    alt="Windows Forms"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="https://img.shields.io/badge/UI-Windows%20Forms-green.svg"
    data-lightbox-alt="Windows Forms"
    style="cursor: pointer;"
  /></figure>
</a>
<a href="LICENSE"><figure class="lightbox-figure">
  <img
    src="https://img.shields.io/badge/license-MIT-blue.svg"
    alt="License"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="https://img.shields.io/badge/license-MIT-blue.svg"
    data-lightbox-alt="License"
    style="cursor: pointer;"
  /></figure>
</a></p>
<p><strong>BibliotecaForm</strong> es un sistema de gestiÃ³n de bibliotecas robusto y fÃ¡cil de usar, desarrollado en C# con Windows Forms. Ofrece una interfaz MDI moderna y funcionalidades completas para la administraciÃ³n de libros, usuarios y prÃ©stamos, ideal para pequeÃ±as y medianas bibliotecas.</p>
<p>Este proyecto naciÃ³ de la necesidad de contar con una herramienta eficiente y visualmente atractiva para la gestiÃ³n bibliotecaria, enfocÃ¡ndose en la experiencia del usuario y la solidez funcional.</p>
<h2 id="-tabla-de-contenidos">ğŸ“‹ Tabla de Contenidos</h2>
<ul>
<li><a href="#-caracter%C3%ADsticas-principales">âœ¨ CaracterÃ­sticas Principales</a></li>
<li><a href="#-capturas-de-pantalla">ğŸ“¸ Capturas de Pantalla</a></li>
<li><a href="#%EF%B8%8F-tecnolog%C3%ADas-utilizadas">ğŸ› ï¸ TecnologÃ­as Utilizadas</a></li>
<li><a href="#-requisitos-del-sistema">ğŸ’» Requisitos del Sistema</a></li>
<li><a href="#-instalaci%C3%B3n-y-configuraci%C3%B3n">ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n</a></li>
<li><a href="#-arquitectura-del-sistema">ğŸ—ï¸ Arquitectura del Sistema</a></li>
<li><a href="#-m%C3%B3dulos-y-funcionalidades">ğŸ”§ MÃ³dulos y Funcionalidades</a></li>
<li><a href="#%EF%B8%8F-base-de-datos">ğŸ—„ï¸ Base de Datos</a></li>
<li><a href="#-estructura-del-proyecto">ğŸ“ Estructura del Proyecto</a></li>
<li><a href="#-uso-de-la-aplicaci%C3%B3n">ğŸš€ Uso de la AplicaciÃ³n</a></li>
<li><a href="#-contribuci%C3%B3n">ğŸ¤ ContribuciÃ³n</a></li>
<li><a href="#-licencia">ğŸ“œ Licencia</a></li>
<li><a href="#-autor">ğŸ§‘â€ğŸ’» Autor</a></li>
</ul>
<h2 id="-caracterÃ­sticas-principales">âœ¨ CaracterÃ­sticas Principales</h2>
<ul>
<li>ğŸ” <strong>Sistema de AutenticaciÃ³n Multi-Rol con GestiÃ³n de Sesiones</strong>: Soporte para usuarios regulares y administradores con persistencia de sesiÃ³n.</li>
<li>ğŸ–¥ï¸ <strong>Interfaz MDI Moderna</strong>: MenÃº lateral expandible/colapsable con navegaciÃ³n fluida entre formularios.</li>
<li>ğŸ“š <strong>GestiÃ³n Completa de CatÃ¡logo</strong>: Agregar, editar y eliminar libros del inventario con validaciones avanzadas.</li>
<li>ğŸ‘¥ <strong>AdministraciÃ³n de Usuarios</strong>: Registro y gestiÃ³n de miembros con selecciÃ³n automÃ¡tica y validaciones.</li>
<li>ğŸ“‹ <strong>Control Avanzado de PrÃ©stamos</strong>: Sistema completo con tickets, alertas de vencimiento y cÃ³digos de colores.</li>
<li>ğŸ” <strong>Modo Visitante Mejorado</strong>: NavegaciÃ³n del catÃ¡logo sin necesidad de registro con interfaz diferenciada.</li>
<li>ğŸ“Š <strong>Panel Administrativo Avanzado</strong>: Dashboard con selecciÃ³n automÃ¡tica de registros y gestiÃ³n contextual.</li>
<li>ğŸ¨ <strong>Interfaz Profesional</strong>: DiseÃ±o moderno con DataGridViews estilizados y recursos visuales integrados.</li>
<li>âš¡ <strong>GestiÃ³n Global de ConfiguraciÃ³n</strong>: Sistema centralizado de configuraciÃ³n y cadenas de conexiÃ³n.</li>
<li>ğŸš€ <strong>NavegaciÃ³n Inteligente</strong>: DetecciÃ³n automÃ¡tica de sesiones activas y redirecciÃ³n inteligente.</li>
</ul>
<h2 id="-capturas-de-pantalla">ğŸ“¸ Capturas de Pantalla</h2>
<p>AquÃ­ algunas vistas de la aplicaciÃ³n:</p>
<table>
  <thead>
      <tr>
          <th>Inicio de SesiÃ³n</th>
          <th>Panel de Administrador</th>
          <th>CatÃ¡logo de Libros (Usuario)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaLoginUsuarioNormal.png"
    alt="Inicio de SesiÃ³n"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaLoginUsuarioNormal.png"
    data-lightbox-alt="Inicio de SesiÃ³n"
    style="cursor: pointer;"
  /></figure>
</td>
          <td><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibiotecaPanelAdministrador.png"
    alt="Panel de Administrador"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibiotecaPanelAdministrador.png"
    data-lightbox-alt="Panel de Administrador"
    style="cursor: pointer;"
  /></figure>
</td>
          <td><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaListaLibrosUsuario.png"
    alt="CatÃ¡logo de Libros"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaListaLibrosUsuario.png"
    data-lightbox-alt="CatÃ¡logo de Libros"
    style="cursor: pointer;"
  /></figure>
</td>
      </tr>
  </tbody>
</table>
<table>
  <thead>
      <tr>
          <th>Vista de PrÃ©stamos</th>
          <th>Realizar un PrÃ©stamo</th>
          <th>CatÃ¡logo (Invitado)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaPrestamosDeUsuario.png"
    alt="Vista de PrÃ©stamos"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaPrestamosDeUsuario.png"
    data-lightbox-alt="Vista de PrÃ©stamos"
    style="cursor: pointer;"
  /></figure>
</td>
          <td><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaPrestarLibro.png"
    alt="Realizar un PrÃ©stamo"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaPrestarLibro.png"
    data-lightbox-alt="Realizar un PrÃ©stamo"
    style="cursor: pointer;"
  /></figure>
</td>
          <td><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaVistaLibrosInvitado.png"
    alt="CatÃ¡logo Invitado"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaVistaLibrosInvitado.png"
    data-lightbox-alt="CatÃ¡logo Invitado"
    style="cursor: pointer;"
  /></figure>
</td>
      </tr>
  </tbody>
</table>
<h2 id="-tecnologÃ­as-utilizadas">ğŸ› ï¸ TecnologÃ­as Utilizadas</h2>
<table>
  <thead>
      <tr>
          <th>Componente</th>
          <th>TecnologÃ­a</th>
          <th>VersiÃ³n</th>
          <th>CaracterÃ­sticas</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Lenguaje</strong></td>
          <td>C#</td>
          <td>7.0+</td>
          <td>POO, Eventos, Delegates</td>
      </tr>
      <tr>
          <td><strong>Framework</strong></td>
          <td>.NET Framework</td>
          <td>4.6.2 / 4.8</td>
          <td>WinForms, ADO.NET</td>
      </tr>
      <tr>
          <td><strong>Interfaz de Usuario</strong></td>
          <td>Windows Forms</td>
          <td>-</td>
          <td><strong>MDI Interface</strong>, Timers, Custom Controls</td>
      </tr>
      <tr>
          <td><strong>Base de Datos</strong></td>
          <td>Microsoft SQL Server</td>
          <td>2019+</td>
          <td>Stored Procedures, ParÃ¡metros SQL</td>
      </tr>
      <tr>
          <td><strong>ORM/Acceso a Datos</strong></td>
          <td>ADO.NET</td>
          <td>-</td>
          <td>SqlConnection, SqlCommand, SqlDataAdapter</td>
      </tr>
      <tr>
          <td><strong>Arquitectura</strong></td>
          <td>MDI (Multiple Document Interface)</td>
          <td>-</td>
          <td><strong>NavegaciÃ³n Fluida, GestiÃ³n de Sesiones</strong></td>
      </tr>
      <tr>
          <td><strong>GestiÃ³n de Estado</strong></td>
          <td>Sistema de ConfiguraciÃ³n Global</td>
          <td>-</td>
          <td><strong>Persistencia de Sesiones, Cadenas Centralizadas</strong></td>
      </tr>
      <tr>
          <td><strong>IDE Recomendado</strong></td>
          <td>Visual Studio</td>
          <td>2019+</td>
          <td>IntelliSense, Designer, Debugging</td>
      </tr>
  </tbody>
</table>
<h2 id="-requisitos-del-sistema">ğŸ’» Requisitos del Sistema</h2>
<h3 id="requisitos-mÃ­nimos">Requisitos MÃ­nimos</h3>
<ul>
<li><strong>SO</strong>: Windows 10 (64-bit) o superior</li>
<li><strong>RAM</strong>: 4 GB mÃ­nimo (8 GB recomendado)</li>
<li><strong>Espacio</strong>: 500 MB disponible</li>
<li><strong>.NET Framework</strong>: 4.6.2 o superior</li>
<li><strong>SQL Server</strong>: LocalDB, Express, o Standard</li>
</ul>
<h3 id="requisitos-de-desarrollo">Requisitos de Desarrollo</h3>
<ul>
<li><strong>Visual Studio</strong>: 2019 o superior</li>
<li><strong>SQL Server Management Studio</strong> (SSMS)</li>
<li><strong>Git</strong> para control de versiones</li>
</ul>
<h2 id="-instalaciÃ³n-y-configuraciÃ³n">ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n</h2>
<h3 id="1-clonar-el-repositorio">1. Clonar el Repositorio</h3>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">POWERSHELL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="nb">J0SE-ESC0BAR</span><span class="p">/</span><span class="n">BibliotecaForms</span><span class="p">.</span><span class="py">git</span> 
</span></span><span class="line"><span class="cl"><span class="nb">cd </span><span class="n">BibliotecaFrom</span></span></span></code></pre></div>
  </div><script>
      function copyToClipboard(button) {
        const codeBlock = button.closest('.code-block').querySelector('code');
        if (codeBlock) {
          const textToCopy = codeBlock.textContent || codeBlock.innerText;
          navigator.clipboard.writeText(textToCopy).then(() => {
            const originalContent = button.innerHTML;
            button.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20,6 9,17 4,12"></polyline></svg>';
            button.style.color = '#10b981';
            setTimeout(() => {
              button.innerHTML = originalContent;
              button.style.color = '';
            }, 2000);
          }).catch(err => {
            console.error('Error al copiar el cÃ³digo: ', err);
            alert('No se pudo copiar el cÃ³digo');
          });
        }
      }
    </script><h3 id="2-configurar-base-de-datos">2. Configurar Base de Datos</h3>
<ol>
<li>
<p>Abre SQL Server Management Studio (SSMS).</p>
</li>
<li>
<p>ConÃ©ctate a tu instancia de SQL Server.</p>
</li>
<li>
<p>Ejecuta los siguientes scripts SQL en el orden indicado. Puedes encontrarlos en la carpeta <code>SQL QUERYS BibliotecaForm/</code>:</p>
<ul>
<li><code>Creacion de BibliotecaFrom.sql</code> (para crear la base de datos y las tablas).</li>
<li><code>Datos de las tablas BibliotecaForm.sql</code> (para poblar las tablas con datos iniciales).</li>
<li><code>Procedimientos Almacenado BibliotecaFrom.sql</code> (para crear los procedimientos almacenados necesarios).</li>
</ul>
<p><strong>Ejemplo de cÃ³mo ejecutar un script en SSMS:</strong></p>
<ul>
<li>Abre el archivo <code>.sql</code> con SSMS (Archivo &gt; Abrir &gt; Archivo).</li>
<li>AsegÃºrate de que la base de datos correcta estÃ© seleccionada en el desplegable de bases de datos disponibles (deberÃ­a ser <code>BibliotecaFrom</code> despuÃ©s de ejecutar el primer script, o <code>master</code> para el primer script).</li>
<li>Haz clic en el botÃ³n &ldquo;Ejecutar&rdquo; (o presiona F5).</li>
</ul>
</li>
</ol>
<h3 id="3-configurar-cadena-de-conexiÃ³n">3. Configurar Cadena de ConexiÃ³n</h3>
<p>Edita el archivo <code>Program.cs</code> (aproximadamente en la lÃ­nea 14) para apuntar a tu servidor de SQL Server.</p>
<p>Modifica la variable <code>CadenaConexion</code> dentro de la clase <code>Configuracion</code>:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">Configuracion</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ejemplo: Si SQL Server estÃ¡ en la misma mÃ¡quina y usas autenticaciÃ³n de Windows:</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">string</span> <span class="n">CadenaConexion</span> <span class="p">=</span> <span class="s">&#34;Server=NOMBRE_DE_TU_SERVIDOR;Database=BibliotecaFrom;Trusted_Connection=True;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ejemplo: Si SQL Server Express estÃ¡ en la misma mÃ¡quina:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// public static string CadenaConexion = &#34;Server=.\\SQLEXPRESS;Database=BibliotecaFrom;Trusted_Connection=True;&#34;;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Sistema de gestiÃ³n de sesiones globales</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">IdUsuarioActual</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">IdAdministradorActual</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><p><strong>Nota:</strong> Reemplaza <code>NOMBRE_DE_TU_SERVIDOR</code> con el nombre de tu instancia de SQL Server. Si usas SQL Server Express, comÃºnmente es <code>.\\SQLEXPRESS</code> o <code>(localdb)\\MSSQLLocalDB</code>.</p>
<h3 id="4-compilar-y-ejecutar">4. Compilar y Ejecutar</h3>
<ol>
<li>Abre el archivo <code>BibliotecaFrom.sln</code> con Visual Studio.</li>
<li>AsegÃºrate de que el proyecto <code>BibliotecaFrom</code> estÃ© configurado como proyecto de inicio.</li>
<li>Presiona <code>Ctrl + F5</code> o haz clic en el botÃ³n &ldquo;Iniciar&rdquo; (el triÃ¡ngulo verde) para compilar y ejecutar la aplicaciÃ³n.</li>
</ol>
<p>Alternativamente, desde la lÃ­nea de comandos (PowerShell o CMD) en la raÃ­z del proyecto:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">POWERSHELL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="n">msbuild</span> <span class="n">BibliotecaFrom</span><span class="p">.</span><span class="py">sln</span> <span class="p">/</span><span class="n">t:Rebuild</span> <span class="p">/</span><span class="n">p:Configuration</span><span class="p">=</span><span class="n">Release</span>
</span></span><span class="line"><span class="cl"><span class="c"># Luego puedes encontrar el ejecutable en: bin\\Release\\BibliotecaFrom.exe</span>
</span></span><span class="line"><span class="cl"><span class="c"># o para Debug:</span>
</span></span><span class="line"><span class="cl"><span class="n">msbuild</span> <span class="n">BibliotecaFrom</span><span class="p">.</span><span class="py">sln</span> <span class="p">/</span><span class="n">t:Rebuild</span> <span class="p">/</span><span class="n">p:Configuration</span><span class="p">=</span><span class="n">Debug</span>
</span></span><span class="line"><span class="cl"><span class="c"># Luego puedes encontrar el ejecutable en: bin\\Debug\\BibliotecaFrom.exe</span></span></span></code></pre></div>
  </div><h2 id="-arquitectura-del-sistema">ğŸ—ï¸ Arquitectura del Sistema</h2>
<p>BibliotecaForm implementa una <strong>arquitectura MDI (Multiple Document Interface)</strong> moderna con gestiÃ³n avanzada de sesiones y navegaciÃ³n fluida para garantizar la separaciÃ³n de responsabilidades y facilitar el mantenimiento:</p>
<h3 id="diagrama-de-flujo-de-la-aplicaciÃ³n">Diagrama de Flujo de la AplicaciÃ³n</h3>
<pre class="mermaid">
    graph TD
    A[ğŸš€ Inicio de la AplicaciÃ³n] --&gt; B{ğŸ  FrmMenuPrincipal MDI}
    B -- ğŸ‘¤ Usuario --&gt; C{ğŸ” SesiÃ³n Activa?}
    B -- ğŸ‘¨â€ğŸ’¼ Administrador --&gt; D{ğŸ” SesiÃ³n Admin Activa?}
    B -- &#34;ğŸ‘ï¸ Libros (Visitante)&#34; --&gt; E[&#34;ğŸ“– FrmLibros (Modo Visitante)&#34;]
    
    C -- &#34;âœ… SÃ­&#34; --&gt; F[&#34;ğŸ“š FrmLibros (Modo Usuario)&#34;]
    C -- &#34;âŒ No&#34; --&gt; G[ğŸ”‘ FrmUsuario]
    D -- &#34;âœ… SÃ­&#34; --&gt; H[âš™ï¸ FrmAdministrarBiblioteca]
    D -- &#34;âŒ No&#34; --&gt; I[ğŸ” FrmAdministrador]
    
    G -- &#34;âœ… Login Exitoso&#34; --&gt; J[ğŸ’¾ Guardar SesiÃ³n] --&gt; F
    G -- &#34;ğŸ“ Registrarse&#34; --&gt; K[ğŸ“‹ FrmRegistrarse]
    I -- &#34;âœ… Login Admin&#34; --&gt; L[ğŸ’¾ Guardar SesiÃ³n Admin] --&gt; H
    I -- &#34;ğŸ“ Registrarse&#34; --&gt; K
    
    F -- &#34;ğŸ“¤ Prestar Libro&#34; --&gt; M[ğŸ“‹ FrmPrestar]
    F -- &#34;ğŸ“Š Ver PrÃ©stamos&#34; --&gt; N[ğŸ“œ FrmVerprestamos]
    H -- &#34;â• Agregar Libro&#34; --&gt; O[ğŸ“š FrmAgregarLibro]
    H -- &#34;ğŸ‘¥ Ver Usuarios&#34; --&gt; P[&#34;ğŸ‘¤ Panel Usuarios con SelecciÃ³n&#34;]
    H -- &#34;ğŸ“– Ver Libros&#34; --&gt; Q[&#34;ğŸ“š Panel Libros con GestiÃ³n&#34;]
    H -- &#34;ğŸ“‹ Ver PrÃ©stamos&#34; --&gt; R[&#34;ğŸ“Š Panel PrÃ©stamos con Estados&#34;]
    
    M -- &#34;ğŸ« Ticket Generado&#34; --&gt; F
    N -- &#34;ğŸ”´ Alertas Vencimiento&#34; --&gt; F
    P -- &#34;ğŸ—‘ï¸ Eliminar (Click-to-Select)&#34; --&gt; H
    Q -- &#34;ğŸ—‘ï¸ Eliminar con ValidaciÃ³n&#34; --&gt; H
    R -- &#34;ğŸ—‘ï¸ GestiÃ³n con CÃ³digos Color&#34; --&gt; H
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style H fill:#fff3e0
    style F fill:#e8f5e8
    style J fill:#c8e6c9
    style L fill:#c8e6c9
  </pre>
  <h3 id="arquitectura-de-capas-con-gestiÃ³n-de-estado">Arquitectura de Capas con GestiÃ³n de Estado</h3>
<pre class="mermaid">
    graph TB
    subgraph &#34;ğŸ¨ Capa de PresentaciÃ³n MDI&#34;
        MDI[Contenedor MDI Principal]
        MenuLateral[MenÃº Lateral Expandible]
        Forms[Formularios Hijos Sin Bordes]
        Timers[Timers de AnimaciÃ³n]
    end
    
    subgraph &#34;ğŸ”„ Capa de GestiÃ³n de Estado&#34;
        ConfigGlobal[ConfiguraciÃ³n Global]
        SesionUsuario[GestiÃ³n de Sesiones]
        NavegacionMDI[NavegaciÃ³n MDI]
    end
    
    subgraph &#34;âš¡ Capa de LÃ³gica de Negocio&#34;
        Auth[AutenticaciÃ³n Avanzada]
        Validation[Validaciones con Alertas]
        Business[Reglas de Negocio]
        FormateoUI[Formateo DataGridView]
    end
    
    subgraph &#34;ğŸ’¾ Capa de Acceso a Datos&#34;
        ADO[ADO.NET con ParÃ¡metros]
        Stored[Procedimientos Almacenados]
        ConexionGlobal[Cadena ConexiÃ³n Centralizada]
    end
    
    subgraph &#34;ğŸ—„ï¸ Capa de Datos&#34;
        SQLServer[(SQL Server)]
    end
    
    MDI --&gt; ConfigGlobal
    MenuLateral --&gt; SesionUsuario
    Forms --&gt; NavegacionMDI
    Timers --&gt; MenuLateral
    
    ConfigGlobal --&gt; Auth
    SesionUsuario --&gt; Validation
    NavegacionMDI --&gt; Business
    FormateoUI --&gt; Forms
    
    Auth --&gt; ConexionGlobal
    Validation --&gt; ADO
    Business --&gt; Stored
    ConexionGlobal --&gt; SQLServer
    ADO --&gt; SQLServer
    Stored --&gt; SQLServer
  </pre>
  <h2 id="-mÃ³dulos-y-funcionalidades">ğŸ”§ MÃ³dulos y Funcionalidades</h2>
<h3 id="-1-menÃº-principal-mdi-frmmenuprincipal">ğŸ  1. MenÃº Principal MDI (<code>FrmMenuPrincipal</code>)</h3>
<p><strong>Centro de control con interfaz MDI moderna</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaInicio.png"
    alt="MenÃº Principal"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaInicio.png"
    data-lightbox-alt="MenÃº Principal"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>CaracterÃ­sticas Principales:</strong></p>
<ul>
<li>ğŸšª <strong>Acceso Multi-Rol con GestiÃ³n de Sesiones</strong>: DetecciÃ³n automÃ¡tica de sesiones activas y redirecciÃ³n inteligente</li>
<li>ğŸ‘ï¸ <strong>Modo Visitante Diferenciado</strong>: ExploraciÃ³n del catÃ¡logo sin autenticaciÃ³n con interfaz especÃ­fica</li>
<li>ğŸ–¥ï¸ <strong>Interfaz MDI Profesional</strong>: Contenedor principal que gestiona todos los formularios hijos</li>
<li>ğŸ“± <strong>MenÃº Lateral Expandible</strong>: Panel lateral con animaciÃ³n suave controlada por timers</li>
<li>ğŸ® <strong>Controles de Ventana</strong>: Minimizar, maximizar, restaurar y cerrar con funcionalidad nativa</li>
<li>ğŸ–±ï¸ <strong>Arrastrar y Soltar</strong>: Funcionalidad para mover la ventana arrastrando desde el header</li>
<li>ğŸ–¼ï¸ <strong>Panel Central DinÃ¡mico</strong>: Imagen de inicio que se oculta automÃ¡ticamente al abrir formularios</li>
<li>âŒ <strong>GestiÃ³n Inteligente</strong>: Cierre automÃ¡tico de formularios MDI activos para navegaciÃ³n limpia</li>
</ul>
<p><strong>Funcionalidades Avanzadas:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// GestiÃ³n automÃ¡tica de sesiones</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">btnUsuario_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">Configuracion</span><span class="p">.</span><span class="n">IdUsuarioActual</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// SesiÃ³n activa - ir directamente al catÃ¡logo</span>
</span></span><span class="line"><span class="cl">        <span class="n">FrmLibros</span> <span class="n">libros</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FrmLibros</span><span class="p">(</span><span class="n">Configuracion</span><span class="p">.</span><span class="n">IdUsuarioActual</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">AbrirFormulario</span><span class="p">(</span><span class="n">libros</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Sin sesiÃ³n - mostrar login</span>
</span></span><span class="line"><span class="cl">        <span class="n">FrmUsuario</span> <span class="n">usuario</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FrmUsuario</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">AbrirFormulario</span><span class="p">(</span><span class="n">usuario</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// AnimaciÃ³n del menÃº lateral</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">BtnCambiarTamanoMenu_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">panelMenu</span><span class="p">.</span><span class="n">Width</span> <span class="p">&gt;</span> <span class="m">60</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">timerCerrar</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span> <span class="c1">// Colapsar menÃº</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ocultar texto, solo iconos</span>
</span></span><span class="line"><span class="cl">        <span class="n">btnUsuario</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">btnLibros</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">timerAbrir</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span> <span class="c1">// Expandir menÃº</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Restaurar texto completo</span>
</span></span><span class="line"><span class="cl">        <span class="n">btnUsuario</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">&#34;Usuario&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">btnLibros</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">&#34;Libros&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-2-autenticaciÃ³n-de-usuario-con-gestiÃ³n-de-sesiones-frmusuario">ğŸ”‘ 2. AutenticaciÃ³n de Usuario con GestiÃ³n de Sesiones (<code>FrmUsuario</code>)</h3>
<p><strong>Sistema de login avanzado para usuarios regulares</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaLoginUsuarioNormal.png"
    alt="Login Usuario"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaLoginUsuarioNormal.png"
    data-lightbox-alt="Login Usuario"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Funcionalidades Mejoradas:</strong></p>
<ul>
<li>âœ… <strong>AutenticaciÃ³n Segura con Persistencia</strong>: ValidaciÃ³n contra base de datos con gestiÃ³n de sesiÃ³n global</li>
<li>ğŸ” <strong>ProtecciÃ³n de ContraseÃ±a</strong>: Campo con enmascaramiento automÃ¡tico y validaciones</li>
<li>ğŸš€ <strong>RedirecciÃ³n Inteligente</strong>: Acceso directo al catÃ¡logo tras login exitoso con estado preservado</li>
<li>ğŸ“ <strong>Registro RÃ¡pido</strong>: Enlace directo al formulario de registro integrado en MDI</li>
<li>ğŸ”™ <strong>NavegaciÃ³n MDI</strong>: IntegraciÃ³n completa con el sistema de navegaciÃ³n principal</li>
<li>ğŸ’¾ <strong>GestiÃ³n de Estado Global</strong>: Almacenamiento del ID de usuario en configuraciÃ³n global</li>
</ul>
<p><strong>Flujo de AutenticaciÃ³n Mejorado:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">btnIngresar_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">string</span> <span class="n">consulta</span> <span class="p">=</span> <span class="s">&#34;SELECT ID_Usuario FROM Usuario WHERE usuario = @usuario AND ContraseÃ±a = @contraseÃ±a&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">using</span> <span class="p">(</span><span class="n">SqlConnection</span> <span class="n">conexion</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="n">cadenaConexion</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">SqlCommand</span> <span class="n">comando</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="n">consulta</span><span class="p">,</span> <span class="n">conexion</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@usuario&#34;</span><span class="p">,</span> <span class="n">txtUsuario</span><span class="p">.</span><span class="n">Text</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@contraseÃ±a&#34;</span><span class="p">,</span> <span class="n">txtContraseÃ±a</span><span class="p">.</span><span class="n">Text</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="kt">object</span> <span class="n">resultado</span> <span class="p">=</span> <span class="n">comando</span><span class="p">.</span><span class="n">ExecuteScalar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">resultado</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">idUsuario</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">resultado</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Guardar sesiÃ³n globalmente</span>
</span></span><span class="line"><span class="cl">            <span class="n">Configuracion</span><span class="p">.</span><span class="n">IdUsuarioActual</span> <span class="p">=</span> <span class="n">idUsuario</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1">// NavegaciÃ³n MDI</span>
</span></span><span class="line"><span class="cl">            <span class="n">FrmLibros</span> <span class="n">libros</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FrmLibros</span><span class="p">(</span><span class="n">idUsuario</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">FrmMenuPrincipal</span> <span class="n">principal</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">MdiParent</span> <span class="k">as</span> <span class="n">FrmMenuPrincipal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">principal</span><span class="p">?.</span><span class="n">AbrirFormulario</span><span class="p">(</span><span class="n">libros</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-3-autenticaciÃ³n-de-administrador-con-sesiÃ³n-persistente-frmadministrador">ğŸ” 3. AutenticaciÃ³n de Administrador con SesiÃ³n Persistente (<code>FrmAdministrador</code>)</h3>
<p><strong>Acceso privilegiado con gestiÃ³n avanzada de sesiones</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibiotecaPanelAdministrador.png"
    alt="Login Admin"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibiotecaPanelAdministrador.png"
    data-lightbox-alt="Login Admin"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>CaracterÃ­sticas Especiales:</strong></p>
<ul>
<li>ğŸ‘¨â€ğŸ’¼ <strong>VerificaciÃ³n de Privilegios Avanzada</strong>: ValidaciÃ³n del campo <code>Administrador</code> con seguridad reforzada</li>
<li>ğŸ›¡ï¸ <strong>Seguridad Multi-Capa</strong>: AutenticaciÃ³n con validaciÃ³n de roles especÃ­ficos</li>
<li>âš™ï¸ <strong>Acceso Total con Persistencia</strong>: RedirecciÃ³n al panel de administraciÃ³n con sesiÃ³n global</li>
<li>ğŸ”§ <strong>GestiÃ³n Avanzada</strong>: Permisos para todas las operaciones CRUD con validaciones</li>
<li>ğŸ”„ <strong>SesiÃ³n Persistente Inteligente</strong>: La sesiÃ³n del administrador se mantiene hasta cierre explÃ­cito</li>
<li>ğŸ“ <strong>Registro de Administradores</strong>: Acceso al formulario de registro con cÃ³digo secreto</li>
</ul>
<p><strong>AutenticaciÃ³n de Administrador:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">btnIngresar_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">string</span> <span class="n">consulta</span> <span class="p">=</span> <span class="s">&#34;SELECT COUNT(*) FROM Usuario WHERE usuario = @usuario AND ContraseÃ±a = @contraseÃ±a AND Administrador = 1&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">using</span> <span class="p">(</span><span class="n">SqlConnection</span> <span class="n">conexion</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="n">Configuracion</span><span class="p">.</span><span class="n">CadenaConexion</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">SqlCommand</span> <span class="n">comando</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="n">consulta</span><span class="p">,</span> <span class="n">conexion</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@usuario&#34;</span><span class="p">,</span> <span class="n">txtUsuario</span><span class="p">.</span><span class="n">Text</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@contraseÃ±a&#34;</span><span class="p">,</span> <span class="n">txtContraseÃ±a</span><span class="p">.</span><span class="n">Text</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">cantidad</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">comando</span><span class="p">.</span><span class="n">ExecuteScalar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">cantidad</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Guardar sesiÃ³n de administrador</span>
</span></span><span class="line"><span class="cl">            <span class="n">Configuracion</span><span class="p">.</span><span class="n">IdAdministradorActual</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="c1">// Marcar sesiÃ³n activa</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1">// Abrir panel de administraciÃ³n</span>
</span></span><span class="line"><span class="cl">            <span class="n">FrmAdministrarBiblioteca</span> <span class="n">adm</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FrmAdministrarBiblioteca</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">FrmMenuPrincipal</span> <span class="n">principal</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">MdiParent</span> <span class="k">as</span> <span class="n">FrmMenuPrincipal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">principal</span><span class="p">?.</span><span class="n">AbrirFormulario</span><span class="p">(</span><span class="n">adm</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-4-registro-de-usuario-frmregistrarse">ğŸ“ 4. Registro de Usuario (<code>FrmRegistrarse</code>)</h3>
<p><strong>Sistema de registro con validaciones</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaRegistrarse.png"
    alt="Registro Usuario"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaRegistrarse.png"
    data-lightbox-alt="Registro Usuario"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Campos del Formulario:</strong></p>
<table>
  <thead>
      <tr>
          <th>Campo</th>
          <th>Tipo</th>
          <th>Requerido</th>
          <th>ValidaciÃ³n</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Nombre Completo</td>
          <td>Text</td>
          <td>âœ…</td>
          <td>MÃ­nimo 3 caracteres</td>
      </tr>
      <tr>
          <td>DirecciÃ³n</td>
          <td>Text</td>
          <td>âœ…</td>
          <td>-</td>
      </tr>
      <tr>
          <td>TelÃ©fono</td>
          <td>Text</td>
          <td>âœ…</td>
          <td>Formato numÃ©rico</td>
      </tr>
      <tr>
          <td>Correo</td>
          <td>Email</td>
          <td>âœ…</td>
          <td>Formato email vÃ¡lido</td>
      </tr>
      <tr>
          <td>Usuario</td>
          <td>Text</td>
          <td>âœ…</td>
          <td>Ãšnico en BD</td>
      </tr>
      <tr>
          <td>ContraseÃ±a</td>
          <td>Password</td>
          <td>âœ…</td>
          <td>MÃ­nimo 6 caracteres</td>
      </tr>
      <tr>
          <td>Es Administrador</td>
          <td>Checkbox</td>
          <td>âŒ</td>
          <td>CÃ³digo secreto requerido</td>
      </tr>
  </tbody>
</table>
<p><strong>Funcionalidades:</strong></p>
<ul>
<li>ğŸ” <strong>ValidaciÃ³n en Tiempo Real</strong>: VerificaciÃ³n de campos durante escritura</li>
<li>ğŸ” <strong>CÃ³digo Secreto</strong>: Sistema de elevaciÃ³n de privilegios para administradores</li>
<li>ğŸ’¾ <strong>Persistencia Inmediata</strong>: Guardado automÃ¡tico en base de datos</li>
<li>âš ï¸ <strong>Manejo de Errores</strong>: Mensajes descriptivos para el usuario</li>
</ul>
<hr>
<h3 id="-5-catÃ¡logo-de-libros-mejorado-frmlibros">ğŸ“š 5. CatÃ¡logo de Libros Mejorado (<code>FrmLibros</code>)</h3>
<p><strong>NÃºcleo del sistema con interfaz profesional</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaVistaLibrosInvitado.png"
    alt="CatÃ¡logo de Libros"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaVistaLibrosInvitado.png"
    data-lightbox-alt="CatÃ¡logo de Libros"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Modos de Funcionamiento Avanzados:</strong></p>
<h4 id="-modo-visitante">ğŸ‘ï¸ Modo Visitante</h4>
<ul>
<li>ğŸ” <strong>Solo Lectura Optimizada</strong>: VisualizaciÃ³n completa del catÃ¡logo con interfaz limpia</li>
<li>ğŸ“– <strong>InformaciÃ³n Detallada</strong>: Todos los datos de los libros con formateo profesional</li>
<li>ğŸš« <strong>Restricciones Visuales</strong>: Elementos de prÃ©stamo ocultos automÃ¡ticamente</li>
</ul>
<h4 id="-modo-usuario-autenticado">ğŸ‘¤ Modo Usuario Autenticado</h4>
<ul>
<li>ğŸ“¤ <strong>PrÃ©stamos con ValidaciÃ³n</strong>: Solicitud de prÃ©stamos con verificaciones automÃ¡ticas</li>
<li>ğŸ“Š <strong>Historial Personal Avanzado</strong>: Acceso a prÃ©stamos activos con alertas de vencimiento</li>
<li>ğŸ”„ <strong>GestiÃ³n Completa</strong>: PrÃ©stamos y devoluciones con sistema de tickets</li>
</ul>
<p><strong>Mejoras de Interfaz:</strong></p>
<ul>
<li>ğŸ¨ <strong>DataGridView Estilizado</strong>: Colores corporativos y formateo profesional</li>
<li>ğŸŸ¢ğŸ”´ <strong>Indicadores Visuales</strong>: Estados de disponibilidad con cÃ³digo de colores</li>
<li>ğŸ“± <strong>Responsive Design</strong>: Columnas que se adaptan automÃ¡ticamente</li>
<li>ğŸ–±ï¸ <strong>SelecciÃ³n Intuitiva</strong>: Click para seleccionar libros con feedback visual</li>
</ul>
<p><strong>ConfiguraciÃ³n Visual Avanzada:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">ConfigurarDataGridView</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Estilo profesional</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">BorderStyle</span> <span class="p">=</span> <span class="n">BorderStyle</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">AlternatingRowsDefaultCellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">238</span><span class="p">,</span> <span class="m">239</span><span class="p">,</span> <span class="m">249</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">DefaultCellStyle</span><span class="p">.</span><span class="n">SelectionBackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">35</span><span class="p">,</span> <span class="m">56</span><span class="p">,</span> <span class="m">205</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">DefaultCellStyle</span><span class="p">.</span><span class="n">SelectionForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">WhiteSmoke</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Header estilizado</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">ColumnHeadersDefaultCellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">18</span><span class="p">,</span> <span class="m">26</span><span class="p">,</span> <span class="m">54</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">ColumnHeadersDefaultCellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">ColumnHeadersDefaultCellStyle</span><span class="p">.</span><span class="n">Font</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&#34;Arial Rounded MT Bold&#34;</span><span class="p">,</span> <span class="m">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ConfiguraciÃ³n de columnas optimizada</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">dgvMostrar</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;tituloLibro&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">Columns</span><span class="p">[</span><span class="s">&#34;tituloLibro&#34;</span><span class="p">].</span><span class="n">HeaderText</span> <span class="p">=</span> <span class="s">&#34;Libro&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">dgvMostrar</span><span class="p">.</span><span class="n">Columns</span><span class="p">[</span><span class="s">&#34;tituloLibro&#34;</span><span class="p">].</span><span class="n">FillWeight</span> <span class="p">=</span> <span class="m">25</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Formateo con cÃ³digo de colores para disponibilidad</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">dgvMostrar_CellFormatting</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">DataGridViewCellFormattingEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">dgvMostrar</span><span class="p">.</span><span class="n">Columns</span><span class="p">[</span><span class="n">e</span><span class="p">.</span><span class="n">ColumnIndex</span><span class="p">].</span><span class="n">Name</span> <span class="p">==</span> <span class="s">&#34;disponible&#34;</span> <span class="p">&amp;&amp;</span> <span class="n">e</span><span class="p">.</span><span class="n">Value</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="n">disponible</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToBoolean</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">disponible</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">Green</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span><span class="p">,</span> <span class="n">FontStyle</span><span class="p">.</span><span class="n">Bold</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">Value</span> <span class="p">=</span> <span class="s">&#34;SÃ­&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span><span class="p">,</span> <span class="n">FontStyle</span><span class="p">.</span><span class="n">Bold</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">Value</span> <span class="p">=</span> <span class="s">&#34;No&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-6-gestiÃ³n-de-prÃ©stamos-frmprestar">ğŸ“‹ 6. GestiÃ³n de PrÃ©stamos (<code>FrmPrestar</code>)</h3>
<p><strong>Sistema inteligente de tickets para gestiÃ³n de prÃ©stamos</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaPrestarLibro.png"
    alt="PrÃ©stamos"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaPrestarLibro.png"
    data-lightbox-alt="PrÃ©stamos"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Funcionalidades Avanzadas:</strong></p>
<ul>
<li>ğŸ« <strong>Sistema de Tickets Inteligente</strong>: GeneraciÃ³n automÃ¡tica de comprobantes Ãºnicos para cada prÃ©stamo</li>
<li>ğŸ”„ <strong>Registro AutomÃ¡tico</strong>: Guardado directo en tabla <code>Prestamo</code> con validaciones completas</li>
<li>ğŸ“Š <strong>Control de Disponibilidad</strong>: VerificaciÃ³n en tiempo real de la disponibilidad de libros</li>
<li>ğŸ¯ <strong>Seguimiento de Estados</strong>: Monitoreo activo de prÃ©stamos con cÃ³digos de color visuales</li>
<li>â° <strong>Alertas de Vencimiento</strong>: Sistema de notificaciones para prÃ©stamos prÃ³ximos a vencer</li>
<li>âœ… <strong>ValidaciÃ³n AutomÃ¡tica</strong>: VerificaciÃ³n integral de usuarios y disponibilidad de libros</li>
<li>ğŸ–±ï¸ <strong>Interfaz Intuitiva</strong>: SelecciÃ³n automÃ¡tica de registros y feedback visual inmediato</li>
</ul>
<p><strong>Flujo de PrÃ©stamo Mejorado:</strong></p>
<ol>
<li>ğŸ“– <strong>SelecciÃ³n Inteligente</strong>: Libro seleccionado desde el catÃ¡logo con validaciÃ³n automÃ¡tica</li>
<li>ğŸ‘¤ <strong>Usuario AutomÃ¡tico</strong>: IdentificaciÃ³n del usuario logueado desde sesiÃ³n global</li>
<li>ğŸ“… <strong>ConfiguraciÃ³n de Fechas</strong>: Fecha de prÃ©stamo automÃ¡tica y devoluciÃ³n calculada</li>
<li>ğŸ” <strong>Validaciones MÃºltiples</strong>: VerificaciÃ³n de disponibilidad, usuario activo y lÃ­mites</li>
<li>ğŸ’¾ <strong>Registro Completo</strong>: Guardado en tabla <code>Prestamo</code> con transacciones seguras</li>
<li>ğŸ« <strong>Ticket Generado</strong>: Comprobante Ãºnico con cÃ³digo de seguimiento</li>
<li>ğŸ”„ <strong>ActualizaciÃ³n AutomÃ¡tica</strong>: Refresh del catÃ¡logo con nuevo estado de disponibilidad</li>
</ol>
<p><strong>Validaciones Avanzadas:</strong></p>
<ul>
<li>âœ… <strong>Disponibilidad del Libro</strong>: VerificaciÃ³n en tiempo real del estado</li>
<li>âœ… <strong>Usuario Activo</strong>: ValidaciÃ³n de sesiÃ³n y permisos activos</li>
<li>âœ… <strong>Fechas VÃ¡lidas</strong>: Control de rangos (devoluciÃ³n &gt; prÃ©stamo)</li>
<li>âœ… <strong>LÃ­mite de PrÃ©stamos</strong>: Control por usuario segÃºn polÃ­ticas</li>
<li>âœ… <strong>Integridad de Datos</strong>: ValidaciÃ³n de IDs y referencias de base de datos</li>
<li>âœ… <strong>Transacciones Seguras</strong>: Rollback automÃ¡tico en caso de errores</li>
</ul>
<p><strong>ImplementaciÃ³n del Sistema de Tickets:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">btnPrestar_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ValidaciÃ³n de disponibilidad en tiempo real</span>
</span></span><span class="line"><span class="cl">        <span class="kt">string</span> <span class="n">consultaDisponibilidad</span> <span class="p">=</span> <span class="s">&#34;SELECT COUNT(*) FROM Prestamo WHERE ID_Libro = @idLibro AND fecha_devolucion &gt;= GETDATE()&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Registro del prÃ©stamo con transacciÃ³n</span>
</span></span><span class="line"><span class="cl">        <span class="kt">string</span> <span class="n">insertPrestamo</span> <span class="p">=</span> <span class="s">&#34;INSERT INTO Prestamo (ID_Usuario, ID_Libro, fecha_prestamo, fecha_devolucion) VALUES (@idUsuario, @idLibro, @fechaPrestamo, @fechaDevolucion)&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">using</span> <span class="p">(</span><span class="n">SqlConnection</span> <span class="n">conexion</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="n">Configuracion</span><span class="p">.</span><span class="n">CadenaConexion</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">conexion</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="k">using</span> <span class="p">(</span><span class="n">SqlTransaction</span> <span class="n">transaccion</span> <span class="p">=</span> <span class="n">conexion</span><span class="p">.</span><span class="n">BeginTransaction</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// Ejecutar prÃ©stamo con validaciones</span>
</span></span><span class="line"><span class="cl">                <span class="n">SqlCommand</span> <span class="n">comando</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="n">insertPrestamo</span><span class="p">,</span> <span class="n">conexion</span><span class="p">,</span> <span class="n">transaccion</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@idUsuario&#34;</span><span class="p">,</span> <span class="n">Configuracion</span><span class="p">.</span><span class="n">IdUsuarioActual</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@idLibro&#34;</span><span class="p">,</span> <span class="n">idLibroSeleccionado</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@fechaPrestamo&#34;</span><span class="p">,</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@fechaDevolucion&#34;</span><span class="p">,</span> <span class="n">dtpDevolucion</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">                <span class="kt">int</span> <span class="n">resultado</span> <span class="p">=</span> <span class="n">comando</span><span class="p">.</span><span class="n">ExecuteNonQuery</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="n">resultado</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">transaccion</span><span class="p">.</span><span class="n">Commit</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">// Generar ticket Ãºnico</span>
</span></span><span class="line"><span class="cl">                    <span class="n">GenerarTicketPrestamo</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">                    <span class="n">MessageBox</span><span class="p">.</span><span class="n">Show</span><span class="p">(</span><span class="s">&#34;âœ… PrÃ©stamo registrado exitosamente. Ticket generado.&#34;</span><span class="p">,</span> <span class="s">&#34;PrÃ©stamo Exitoso&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">MessageBox</span><span class="p">.</span><span class="n">Show</span><span class="p">(</span><span class="s">$&#34;âŒ Error al procesar prÃ©stamo: {ex.Message}&#34;</span><span class="p">,</span> <span class="s">&#34;Error&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-7-historial-de-prÃ©stamos-frmverprestamos">ğŸ“œ 7. Historial de PrÃ©stamos (<code>FrmVerprestamos</code>)</h3>
<p><strong>Panel avanzado de prÃ©stamos con alertas de vencimiento</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaPrestamosDeUsuario.png"
    alt="Historial de PrÃ©stamos"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaPrestamosDeUsuario.png"
    data-lightbox-alt="Historial de PrÃ©stamos"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Funcionalidades Mejoradas:</strong></p>
<ul>
<li>ğŸ”´ <strong>Alertas de Vencimiento</strong>: Sistema inteligente que detecta y resalta prÃ©stamos prÃ³ximos a vencer</li>
<li>ğŸ“Š <strong>DataGridView Estilizado</strong>: PresentaciÃ³n profesional con cÃ³digos de colores para estados</li>
<li>ğŸ”„ <strong>ActualizaciÃ³n AutomÃ¡tica</strong>: Refresh dinÃ¡mico del estado de prÃ©stamos</li>
<li>ğŸ“… <strong>Formateo Inteligente de Fechas</strong>: PresentaciÃ³n clara de fechas de prÃ©stamo y devoluciÃ³n</li>
<li>ğŸ¯ <strong>SelecciÃ³n AutomÃ¡tica</strong>: Click-to-select para gestiÃ³n rÃ¡pida de prÃ©stamos</li>
<li>âš¡ <strong>Carga Optimizada</strong>: Consultas eficientes con JOIN para datos completos</li>
</ul>
<p><strong>InformaciÃ³n Detallada Mostrada:</strong></p>
<ul>
<li>ğŸ“š <strong>Detalles Completos del Libro</strong>: TÃ­tulo, autor, aÃ±o de publicaciÃ³n con formateo</li>
<li>ğŸ“… <strong>GestiÃ³n de Fechas</strong>: PrÃ©stamo y devoluciÃ³n con alertas visuales</li>
<li>ğŸ†” <strong>Referencias Ãšnicas</strong>: IDs de prÃ©stamo y libro para trazabilidad</li>
<li>â° <strong>Estados DinÃ¡micos</strong>: Vigente, prÃ³ximo a vencer, vencido con colores</li>
<li>ğŸ”¢ <strong>CÃ³digos de Seguimiento</strong>: Sistema de tickets para control administrativo</li>
</ul>
<p><strong>Acciones Avanzadas Disponibles:</strong></p>
<ul>
<li>âŒ <strong>Cancelar PrÃ©stamo Inteligente</strong>: DevoluciÃ³n anticipada con validaciones automÃ¡ticas</li>
<li>ğŸ” <strong>Ver Detalles Expandidos</strong>: Modal con informaciÃ³n completa del prÃ©stamo y usuario</li>
<li>ğŸ”„ <strong>Renovar con ValidaciÃ³n</strong>: ExtensiÃ³n automÃ¡tica si no hay reservas pendientes</li>
<li>ğŸ“Š <strong>Exportar Historial</strong>: GeneraciÃ³n de reportes de prÃ©stamos del usuario</li>
<li>ğŸ”” <strong>Configurar Alertas</strong>: PersonalizaciÃ³n de notificaciones de vencimiento</li>
</ul>
<p><strong>Sistema de Alertas Visuales:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">dgvPrestamos_CellFormatting</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">DataGridViewCellFormattingEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">dgvPrestamos</span><span class="p">.</span><span class="n">Columns</span><span class="p">[</span><span class="n">e</span><span class="p">.</span><span class="n">ColumnIndex</span><span class="p">].</span><span class="n">Name</span> <span class="p">==</span> <span class="s">&#34;fecha_devolucion&#34;</span> <span class="p">&amp;&amp;</span> <span class="n">e</span><span class="p">.</span><span class="n">Value</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">DateTime</span> <span class="n">fechaDevolucion</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToDateTime</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">DateTime</span> <span class="n">hoy</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">Date</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">TimeSpan</span> <span class="n">diferencia</span> <span class="p">=</span> <span class="n">fechaDevolucion</span><span class="p">.</span><span class="n">Date</span> <span class="p">-</span> <span class="n">hoy</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Sistema de cÃ³digos de colores</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">diferencia</span><span class="p">.</span><span class="n">Days</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Vencido - Rojo</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">235</span><span class="p">,</span> <span class="m">235</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">DarkRed</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span><span class="p">,</span> <span class="n">FontStyle</span><span class="p">.</span><span class="n">Bold</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">diferencia</span><span class="p">.</span><span class="n">Days</span> <span class="p">&lt;=</span> <span class="m">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// PrÃ³ximo a vencer - Amarillo</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">248</span><span class="p">,</span> <span class="m">220</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">DarkOrange</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">Font</span><span class="p">,</span> <span class="n">FontStyle</span><span class="p">.</span><span class="n">Bold</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Vigente - Verde</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">235</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">235</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">DarkGreen</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Formato de fecha legible</span>
</span></span><span class="line"><span class="cl">        <span class="n">e</span><span class="p">.</span><span class="n">Value</span> <span class="p">=</span> <span class="n">fechaDevolucion</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="s">&#34;dd/MM/yyyy&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">e</span><span class="p">.</span><span class="n">FormattingApplied</span> <span class="p">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><p><strong>Consulta Optimizada con JOIN:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">consulta</span> <span class="p">=</span> <span class="s">@&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    SELECT 
</span></span></span><span class="line"><span class="cl"><span class="s">        p.ID_Prestamo,
</span></span></span><span class="line"><span class="cl"><span class="s">        p.ID_Libro,
</span></span></span><span class="line"><span class="cl"><span class="s">        l.tituloLibro,
</span></span></span><span class="line"><span class="cl"><span class="s">        l.autor,
</span></span></span><span class="line"><span class="cl"><span class="s">        l.aÃ±o_publicacion,
</span></span></span><span class="line"><span class="cl"><span class="s">        p.fecha_prestamo,
</span></span></span><span class="line"><span class="cl"><span class="s">        p.fecha_devolucion,
</span></span></span><span class="line"><span class="cl"><span class="s">        CASE 
</span></span></span><span class="line"><span class="cl"><span class="s">            WHEN p.fecha_devolucion &lt; GETDATE() THEN &#39;Vencido&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">            WHEN DATEDIFF(day, GETDATE(), p.fecha_devolucion) &lt;= 2 THEN &#39;PrÃ³ximo a Vencer&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">            ELSE &#39;Vigente&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">        END AS Estado
</span></span></span><span class="line"><span class="cl"><span class="s">    FROM Prestamo p
</span></span></span><span class="line"><span class="cl"><span class="s">    INNER JOIN Libro l ON p.ID_Libro = l.id_libro
</span></span></span><span class="line"><span class="cl"><span class="s">    WHERE p.ID_Usuario = @idUsuario
</span></span></span><span class="line"><span class="cl"><span class="s">    ORDER BY p.fecha_devolucion ASC&#34;</span><span class="p">;</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-8-panel-de-administraciÃ³n-frmadministrarbiblioteca">âš™ï¸ 8. Panel de AdministraciÃ³n (<code>FrmAdministrarBiblioteca</code>)</h3>
<p><strong>Centro de control administrativo con selecciÃ³n automÃ¡tica y gestiÃ³n contextual</strong></p>
<p><figure class="lightbox-figure">
  <img
    src="../../Capturas/BibiotecaPanelAdministrador.png"
    alt="Panel de AdministraciÃ³n"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibiotecaPanelAdministrador.png"
    data-lightbox-alt="Panel de AdministraciÃ³n"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Funcionalidades Globales del Panel:</strong></p>
<ul>
<li>ğŸ¯ <strong>SelecciÃ³n AutomÃ¡tica</strong>: Sistema de click-to-select en todos los DataGridViews para gestiÃ³n rÃ¡pida</li>
<li>ğŸ”„ <strong>ActualizaciÃ³n DinÃ¡mica</strong>: Refresh automÃ¡tico de datos tras operaciones CRUD</li>
<li>ğŸ“Š <strong>DataGridViews Estilizados</strong>: PresentaciÃ³n profesional con colores corporativos</li>
<li>ğŸ—‘ï¸ <strong>EliminaciÃ³n Contextual</strong>: Botones que se activan/desactivan segÃºn la selecciÃ³n</li>
<li>âš¡ <strong>Carga Optimizada</strong>: Consultas eficientes con joins para datos relacionados</li>
<li>ğŸ¨ <strong>Interfaz Unificada</strong>: Consistencia visual en todas las pestaÃ±as de gestiÃ³n</li>
</ul>
<p><strong>PestaÃ±as de GestiÃ³n Avanzada:</strong></p>
<h4 id="-gestiÃ³n-de-usuarios-con-selecciÃ³n-inteligente">ğŸ‘¥ GestiÃ³n de Usuarios con SelecciÃ³n Inteligente</h4>
<ul>
<li>ğŸ“Š <strong>Vista Tabular Completa</strong>: Lista de usuarios con informaciÃ³n detallada y formateo</li>
<li>ğŸ¯ <strong>SelecciÃ³n AutomÃ¡tica</strong>: Click en fila para seleccionar usuario automÃ¡ticamente</li>
<li>ğŸ—‘ï¸ <strong>EliminaciÃ³n Inteligente</strong>: BotÃ³n que se activa solo al seleccionar usuario vÃ¡lido</li>
<li>ğŸ“ <strong>InformaciÃ³n Expandida</strong>: Mostrar nombre completo, direcciÃ³n, telÃ©fono, correo y rol</li>
<li>ğŸ” <strong>BÃºsqueda Contextual</strong>: Filtros dinÃ¡micos por tipo de usuario (admin/regular)</li>
<li>âš ï¸ <strong>Validaciones Avanzadas</strong>: Verificar prÃ©stamos activos antes de eliminar usuarios</li>
</ul>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// SelecciÃ³n automÃ¡tica en DataGridView de usuarios</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">dgvUsuarios_CellClick</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">DataGridViewCellEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">RowIndex</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">DataGridViewRow</span> <span class="n">fila</span> <span class="p">=</span> <span class="n">dgvUsuarios</span><span class="p">.</span><span class="n">Rows</span><span class="p">[</span><span class="n">e</span><span class="p">.</span><span class="n">RowIndex</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">idUsuarioSeleccionado</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToInt32</span><span class="p">(</span><span class="n">fila</span><span class="p">.</span><span class="n">Cells</span><span class="p">[</span><span class="s">&#34;ID_Usuario&#34;</span><span class="p">].</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Activar botÃ³n de eliminaciÃ³n</span>
</span></span><span class="line"><span class="cl">        <span class="n">btnEliminarUsuario</span><span class="p">.</span><span class="n">Enabled</span> <span class="p">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">btnEliminarUsuario</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">$&#34;Eliminar Usuario (ID: {idUsuarioSeleccionado})&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Mostrar informaciÃ³n detallada</span>
</span></span><span class="line"><span class="cl">        <span class="n">lblUsuarioSeleccionado</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">$&#34;Seleccionado: {fila.Cells[&#34;</span><span class="n">nombreCompleto</span><span class="s">&#34;].Value}&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><h4 id="-gestiÃ³n-de-libros-con-control-de-inventario">ğŸ“š GestiÃ³n de Libros con Control de Inventario</h4>
<ul>
<li>ğŸ“– <strong>Inventario Inteligente</strong>: Vista completa con estados de disponibilidad automÃ¡ticos</li>
<li>â• <strong>Agregar Nuevos</strong>: IntegraciÃ³n directa con FrmAgregarLibro desde botÃ³n contextual</li>
<li>âœï¸ <strong>EdiciÃ³n en Contexto</strong>: ModificaciÃ³n de informaciÃ³n con selecciÃ³n previa</li>
<li>ğŸ—‘ï¸ <strong>EliminaciÃ³n con ValidaciÃ³n</strong>: VerificaciÃ³n automÃ¡tica de prÃ©stamos activos antes de borrar</li>
<li>ğŸ” <strong>Estados Visuales</strong>: Indicadores de disponibilidad con cÃ³digos de color</li>
<li>ğŸ“Š <strong>MÃ©tricas de Uso</strong>: Contadores de prÃ©stamos activos por libro</li>
</ul>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ValidaciÃ³n antes de eliminar libro</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">btnEliminarLibro_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">idLibroSeleccionado</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Verificar prÃ©stamos activos</span>
</span></span><span class="line"><span class="cl">        <span class="kt">string</span> <span class="n">consultaValidacion</span> <span class="p">=</span> <span class="s">&#34;SELECT COUNT(*) FROM Prestamo WHERE ID_Libro = @idLibro AND fecha_devolucion &gt;= GETDATE()&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">using</span> <span class="p">(</span><span class="n">SqlConnection</span> <span class="n">conexion</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="n">Configuracion</span><span class="p">.</span><span class="n">CadenaConexion</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">SqlCommand</span> <span class="n">comando</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="n">consultaValidacion</span><span class="p">,</span> <span class="n">conexion</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">comando</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&#34;@idLibro&#34;</span><span class="p">,</span> <span class="n">idLibroSeleccionado</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">prestamosActivos</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">comando</span><span class="p">.</span><span class="n">ExecuteScalar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">prestamosActivos</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">MessageBox</span><span class="p">.</span><span class="n">Show</span><span class="p">(</span><span class="s">$&#34;âŒ No se puede eliminar. El libro tiene {prestamosActivos} prÃ©stamo(s) activo(s).&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                              <span class="s">&#34;ValidaciÃ³n&#34;</span><span class="p">,</span> <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Warning</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1">// Proceder con eliminaciÃ³n si estÃ¡ libre</span>
</span></span><span class="line"><span class="cl">            <span class="n">EliminarLibroSeguro</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><h4 id="-gestiÃ³n-de-prÃ©stamos-con-estados-avanzados">ğŸ“Š GestiÃ³n de PrÃ©stamos con Estados Avanzados</h4>
<ul>
<li>ğŸ“‹ <strong>Vista General Completa</strong>: Todos los prÃ©stamos con informaciÃ³n de usuarios y libros</li>
<li>â° <strong>Estados DinÃ¡micos</strong>: Vigente, prÃ³ximo a vencer, vencido con alertas visuales</li>
<li>ğŸ”„ <strong>Acciones Contextuales</strong>: Forzar devoluciÃ³n, extender plazos segÃºn selecciÃ³n</li>
<li>ğŸ“ˆ <strong>Dashboard de EstadÃ­sticas</strong>: MÃ©tricas en tiempo real de uso de la biblioteca</li>
<li>ğŸ”´ <strong>Alertas AutomÃ¡ticas</strong>: Notificaciones visuales para prÃ©stamos problemÃ¡ticos</li>
<li>ğŸ“Š <strong>Reportes Integrados</strong>: GeneraciÃ³n de informes de gestiÃ³n</li>
</ul>
<p><strong>Sistema de Estados Visuales:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">ConfigurarDataGridViewPrestamos</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Estilo profesional para prÃ©stamos</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvPrestamos</span><span class="p">.</span><span class="n">BorderStyle</span> <span class="p">=</span> <span class="n">BorderStyle</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvPrestamos</span><span class="p">.</span><span class="n">AlternatingRowsDefaultCellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">240</span><span class="p">,</span> <span class="m">248</span><span class="p">,</span> <span class="m">255</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Formateo de fechas con estados</span>
</span></span><span class="line"><span class="cl">    <span class="n">dgvPrestamos</span><span class="p">.</span><span class="n">CellFormatting</span> <span class="p">+=</span> <span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">ColumnIndex</span> <span class="p">==</span> <span class="n">dgvPrestamos</span><span class="p">.</span><span class="n">Columns</span><span class="p">[</span><span class="s">&#34;fecha_devolucion&#34;</span><span class="p">].</span><span class="n">Index</span> <span class="p">&amp;&amp;</span> <span class="n">e</span><span class="p">.</span><span class="n">Value</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">DateTime</span> <span class="n">fechaDevolucion</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToDateTime</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">DateTime</span> <span class="n">hoy</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">Date</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">fechaDevolucion</span> <span class="p">&lt;</span> <span class="n">hoy</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// Vencido - Fondo rojo</span>
</span></span><span class="line"><span class="cl">                <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">230</span><span class="p">,</span> <span class="m">230</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">DarkRed</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span> <span class="k">if</span> <span class="p">((</span><span class="n">fechaDevolucion</span> <span class="p">-</span> <span class="n">hoy</span><span class="p">).</span><span class="n">Days</span> <span class="p">&lt;=</span> <span class="m">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// PrÃ³ximo a vencer - Fondo amarillo</span>
</span></span><span class="line"><span class="cl">                <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">FromArgb</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="n">e</span><span class="p">.</span><span class="n">CellStyle</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">DarkOrange</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><p><strong>Consulta Integrada para Panel Administrativo:</strong></p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">consultaCompleta</span> <span class="p">=</span> <span class="s">@&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    SELECT 
</span></span></span><span class="line"><span class="cl"><span class="s">        p.ID_Prestamo,
</span></span></span><span class="line"><span class="cl"><span class="s">        u.nombreCompleto AS Usuario,
</span></span></span><span class="line"><span class="cl"><span class="s">        l.tituloLibro AS Libro,
</span></span></span><span class="line"><span class="cl"><span class="s">        l.autor AS Autor,
</span></span></span><span class="line"><span class="cl"><span class="s">        p.fecha_prestamo,
</span></span></span><span class="line"><span class="cl"><span class="s">        p.fecha_devolucion,
</span></span></span><span class="line"><span class="cl"><span class="s">        CASE 
</span></span></span><span class="line"><span class="cl"><span class="s">            WHEN p.fecha_devolucion &lt; GETDATE() THEN &#39;Vencido&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">            WHEN DATEDIFF(day, GETDATE(), p.fecha_devolucion) &lt;= 3 THEN &#39;Por Vencer&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">            ELSE &#39;Vigente&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">        END AS Estado,
</span></span></span><span class="line"><span class="cl"><span class="s">        DATEDIFF(day, GETDATE(), p.fecha_devolucion) AS DiasRestantes
</span></span></span><span class="line"><span class="cl"><span class="s">    FROM Prestamo p
</span></span></span><span class="line"><span class="cl"><span class="s">    INNER JOIN Usuario u ON p.ID_Usuario = u.ID_Usuario
</span></span></span><span class="line"><span class="cl"><span class="s">    INNER JOIN Libro l ON p.ID_Libro = l.id_libro
</span></span></span><span class="line"><span class="cl"><span class="s">    ORDER BY p.fecha_devolucion ASC&#34;</span><span class="p">;</span></span></span></code></pre></div>
  </div><hr>
<h3 id="-9-agregar-libro-frmagregarlibro">â• 9. Agregar Libro (<code>FrmAgregarLibro</code>)</h3>
<p><strong>ExpansiÃ³n del catÃ¡logo</strong>
<figure class="lightbox-figure">
  <img
    src="../../Capturas/BibliotecaPrestarLibro.png"
    alt="Agregar Libro"
    class="img-fluid lightbox-trigger"
    data-lightbox-src="../../Capturas/BibliotecaPrestarLibro.png"
    data-lightbox-alt="Agregar Libro"
    style="cursor: pointer;"
  /></figure>
</p>
<p><strong>Formulario de Libro:</strong></p>
<table>
  <thead>
      <tr>
          <th>Campo</th>
          <th>Tipo</th>
          <th>DescripciÃ³n</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ğŸ“– TÃ­tulo</td>
          <td>TextBox</td>
          <td>Nombre del libro</td>
      </tr>
      <tr>
          <td>âœï¸ Autor</td>
          <td>TextBox</td>
          <td>Autor(es) del libro</td>
      </tr>
      <tr>
          <td>ğŸ“… AÃ±o</td>
          <td>NumericUpDown</td>
          <td>AÃ±o de publicaciÃ³n</td>
      </tr>
      <tr>
          <td>ğŸ“„ Contenido</td>
          <td>RichTextBox</td>
          <td>DescripciÃ³n/resumen</td>
      </tr>
  </tbody>
</table>
<p><strong>Validaciones:</strong></p>
<ul>
<li>âœ… <strong>TÃ­tulo Ãšnico</strong>: No duplicados en el catÃ¡logo</li>
<li>âœ… <strong>AÃ±o VÃ¡lido</strong>: Rango temporal lÃ³gico</li>
<li>âœ… <strong>Campos Obligatorios</strong>: Todos los campos requeridos</li>
<li>âœ… <strong>Formato</strong>: ValidaciÃ³n de tipos de datos</li>
</ul>
<h2 id="-base-de-datos">ğŸ—„ï¸ Base de Datos</h2>
<h3 id="diagrama-entidad-relaciÃ³n-erd">Diagrama Entidad-RelaciÃ³n (ERD)</h3>
<pre class="mermaid">
    erDiagram
    Usuario {
        int ID_Usuario PK &#34;Identificador Ãºnico del usuario&#34;
        varchar nombreCompleto &#34;Nombre completo del usuario&#34;
        varchar direccion &#34;DirecciÃ³n del usuario&#34;
        varchar telefono &#34;NÃºmero de telÃ©fono&#34;
        varchar Correo &#34;Correo electrÃ³nico&#34;
        varchar usuario &#34;Nombre de usuario Ãºnico&#34;
        varchar ContraseÃ±a &#34;ContraseÃ±a encriptada&#34;
        int Administrador &#34;Flag: 1=Admin, 0=Usuario&#34;
    }

    Libro {
        int id_libro PK &#34;Identificador Ãºnico del libro&#34;
        varchar tituloLibro &#34;TÃ­tulo del libro&#34;
        varchar autor &#34;Autor(es) del libro&#34;
        varchar aÃ±o_publicacion &#34;AÃ±o de publicaciÃ³n&#34;
        text contenido &#34;DescripciÃ³n o resumen&#34;
    }

    Prestamo {
        int ID_Prestamo PK &#34;Identificador Ãºnico del prÃ©stamo&#34;
        int ID_Usuario FK &#34;Referencia al usuario&#34;
        int ID_Libro FK &#34;Referencia al libro&#34;
        date fecha_prestamo &#34;Fecha de inicio del prÃ©stamo&#34;
        date fecha_devolucion &#34;Fecha lÃ­mite de devoluciÃ³n&#34;
    }

    Usuario ||--o{ Prestamo : &#34;realiza&#34;
    Libro ||--o{ Prestamo : &#34;es_prestado_en&#34;
  </pre>
  <h3 id="scripts-de-base-de-datos">Scripts de Base de Datos</h3>
<p>El proyecto incluye scripts SQL organizados en la carpeta <code>SQL QUERYS BibliotecaForm/</code>:</p>
<table>
  <thead>
      <tr>
          <th>Script</th>
          <th>PropÃ³sito</th>
          <th>Orden de EjecuciÃ³n</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>Creacion de BibliotecaFrom.sql</code></td>
          <td>ğŸ—ï¸ Estructura de BD</td>
          <td>1ï¸âƒ£</td>
      </tr>
      <tr>
          <td><code>Datos de las tablas BibliotecaForm.sql</code></td>
          <td>ğŸ“Š Datos iniciales</td>
          <td>2ï¸âƒ£</td>
      </tr>
      <tr>
          <td><code>Procedimientos Almacenado BibliotecaFrom.sql</code></td>
          <td>âš™ï¸ Stored Procedures</td>
          <td>3ï¸âƒ£</td>
      </tr>
  </tbody>
</table>
<h3 id="estructura-detallada-de-tablas">Estructura Detallada de Tablas</h3>
<h4 id="-tabla-usuario">ğŸ‘¤ Tabla Usuario</h4>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">SQL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">Usuario</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ID_Usuario</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">nombreCompleto</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">direccion</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">telefono</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Correo</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">usuario</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ContraseÃ±a</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Administrador</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">Administrador</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span></span></span></code></pre></div>
  </div><h4 id="-tabla-libro">ğŸ“š Tabla Libro</h4>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">SQL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">Libro</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id_libro</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">tituloLibro</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">autor</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">aÃ±o_publicacion</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">contenido</span><span class="w"> </span><span class="nb">text</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span></span></span></code></pre></div>
  </div><h4 id="-tabla-prestamo">ğŸ“‹ Tabla Prestamo</h4>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">SQL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">Prestamo</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ID_Prestamo</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ID_Usuario</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ID_Libro</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fecha_prestamo</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fecha_devolucion</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">ID_Usuario</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">Usuario</span><span class="p">(</span><span class="n">ID_Usuario</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">ID_Libro</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">Libro</span><span class="p">(</span><span class="n">id_libro</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">fecha_devolucion</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fecha_prestamo</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span></span></span></code></pre></div>
  </div><h3 id="configuraciÃ³n-de-conexiÃ³n">ConfiguraciÃ³n de ConexiÃ³n</h3>
<p>La cadena de conexiÃ³n se configura en <code>Program.cs</code>:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">Configuracion</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ConfiguraciÃ³n para SQL Server local</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">string</span> <span class="n">CadenaConexion</span> <span class="p">=</span> <span class="s">&#34;Server=localhost\\SERVERDEV;Database=BibliotecaFrom;Trusted_Connection=True;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Alternativas de configuraciÃ³n:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// SQL Server Express LocalDB</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// &#34;Server=(localdb)\\MSSQLLocalDB;Database=BibliotecaFrom;Trusted_Connection=True;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// SQL Server con autenticaciÃ³n</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// &#34;Server=servidor;Database=BibliotecaFrom;User Id=usuario;Password=contraseÃ±a;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </div><h2 id="-estructura-del-proyecto">ğŸ“ Estructura del Proyecto</h2>
<h3 id="estructura-principal">Estructura Principal</h3>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">TEXT</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">BibliotecaFrom/
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ“„ BibliotecaFrom.sln          # Archivo de soluciÃ³n de Visual Studio
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ“„ BibliotecaFrom.csproj       # Archivo de proyecto C#
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ“„ App.config                  # ConfiguraciÃ³n de la aplicaciÃ³n
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ“„ Program.cs                  # Punto de entrada de la aplicaciÃ³n
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ“„ README.md                   # DocumentaciÃ³n del proyecto
</span></span><span class="line"><span class="cl">â”‚
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ–¼ï¸ Formularios Windows Forms/
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmMenuPrincipal.*         # MenÃº principal de la aplicaciÃ³n
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmUsuario.*               # AutenticaciÃ³n de usuarios
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmAdministrador.*         # AutenticaciÃ³n de administradores
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmRegistrarse.*           # Registro de nuevos usuarios
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmLibros.*                # CatÃ¡logo y gestiÃ³n de libros
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmPrestar.*               # Sistema de prÃ©stamos
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmVerprestamos.*          # Historial de prÃ©stamos del usuario
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ FrmAdministrarBiblioteca.* # Panel de administraciÃ³n
</span></span><span class="line"><span class="cl">â”‚   â””â”€â”€ FrmAgregarLibro.*          # Formulario para agregar libros
</span></span><span class="line"><span class="cl">â”‚
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ—„ï¸ SQL QUERYS BibliotecaForm/
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ Creacion de BibliotecaFrom.sql           # Script de creaciÃ³n de BD
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ Datos de las tablas BibliotecaForm.sql   # Datos iniciales
</span></span><span class="line"><span class="cl">â”‚   â””â”€â”€ Procedimientos Almacenado BibliotecaFrom.sql # Stored Procedures
</span></span><span class="line"><span class="cl">â”‚
</span></span><span class="line"><span class="cl">â”œâ”€â”€ ğŸ¨ Resources/                   # Recursos grÃ¡ficos
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ 1BNS.png                   # Logo principal
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ admin_person_user_man_2839.png
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ agregar libros.jpg
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ prestamos.jpg
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ regis.png
</span></span><span class="line"><span class="cl">â”‚   â””â”€â”€ registrarse.jpg
</span></span><span class="line"><span class="cl">â”‚
</span></span><span class="line"><span class="cl">â””â”€â”€ âš™ï¸ Properties/                  # Propiedades del proyecto
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ AssemblyInfo.cs            # InformaciÃ³n del ensamblado
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ Resources.Designer.cs      # Recursos embebidos
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ Resources.resx
</span></span><span class="line"><span class="cl">    â”œâ”€â”€ Settings.Designer.cs       # Configuraciones
</span></span><span class="line"><span class="cl">    â””â”€â”€ Settings.settings</span></span></code></pre></div>
  </div><h3 id="descripciÃ³n-de-archivos-clave">DescripciÃ³n de Archivos Clave</h3>
<table>
  <thead>
      <tr>
          <th>Archivo/Carpeta</th>
          <th>DescripciÃ³n</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>Program.cs</code></td>
          <td><strong>Punto de entrada</strong>: ConfiguraciÃ³n inicial y lanzamiento de la aplicaciÃ³n</td>
      </tr>
      <tr>
          <td><code>Frm*.cs</code></td>
          <td><strong>Formularios</strong>: LÃ³gica de negocio de cada ventana</td>
      </tr>
      <tr>
          <td><code>Frm*.Designer.cs</code></td>
          <td><strong>DiseÃ±o UI</strong>: CÃ³digo generado automÃ¡ticamente para la interfaz</td>
      </tr>
      <tr>
          <td><code>Frm*.resx</code></td>
          <td><strong>Recursos</strong>: ImÃ¡genes, textos y configuraciones especÃ­ficas del formulario</td>
      </tr>
      <tr>
          <td><code>SQL QUERYS BibliotecaForm/</code></td>
          <td><strong>Scripts de BD</strong>: Todos los scripts necesarios para configurar la base de datos</td>
      </tr>
      <tr>
          <td><code>Resources/</code></td>
          <td><strong>Recursos GrÃ¡ficos</strong>: ImÃ¡genes e iconos utilizados en la interfaz</td>
      </tr>
      <tr>
          <td><code>App.config</code></td>
          <td><strong>ConfiguraciÃ³n</strong>: Cadenas de conexiÃ³n y configuraciones de la aplicaciÃ³n</td>
      </tr>
  </tbody>
</table>
<h2 id="-uso-de-la-aplicaciÃ³n">ğŸš€ Uso de la AplicaciÃ³n</h2>
<h3 id="-modo-visitante-sin-registro">ğŸ‘ï¸ <strong>Modo Visitante (Sin registro)</strong></h3>
<ol>
<li><strong>Ejecutar la aplicaciÃ³n</strong> â†’ <code>BibliotecaFrom.exe</code></li>
<li><strong>Seleccionar</strong> â†’ <code>Ver Libros</code></li>
<li><strong>Explorar</strong> el catÃ¡logo completo de libros disponibles</li>
<li><strong>Visualizar</strong> informaciÃ³n detallada de cada libro</li>
</ol>
<h3 id="-modo-usuario-regular">ğŸ‘¤ <strong>Modo Usuario Regular</strong></h3>
<h4 id="-registro-de-nuevo-usuario">ğŸ“ Registro de Nuevo Usuario</h4>
<ol>
<li><strong>MenÃº Principal</strong> â†’ <code>Usuario</code> â†’ <code>Registrarse</code></li>
<li><strong>Completar formulario</strong>:
<ul>
<li>Nombre completo</li>
<li>DirecciÃ³n</li>
<li>TelÃ©fono</li>
<li>Correo electrÃ³nico</li>
<li>Nombre de usuario (Ãºnico)</li>
<li>ContraseÃ±a (mÃ­nimo 6 caracteres)</li>
</ul>
</li>
<li><strong>Confirmar registro</strong></li>
</ol>
<h4 id="-iniciar-sesiÃ³n">ğŸ”‘ Iniciar SesiÃ³n</h4>
<ol>
<li><strong>MenÃº Principal</strong> â†’ <code>Usuario</code></li>
<li><strong>Ingresar credenciales</strong> (usuario y contraseÃ±a)</li>
<li><strong>Acceder al catÃ¡logo</strong> con funcionalidades completas</li>
</ol>
<h4 id="-gestionar-prÃ©stamos">ğŸ“š Gestionar PrÃ©stamos</h4>
<ol>
<li><strong>Seleccionar libro</strong> del catÃ¡logo</li>
<li><strong>Solicitar prÃ©stamo</strong> â†’ <code>Prestar Libro</code></li>
<li><strong>Configurar fechas</strong> de prÃ©stamo y devoluciÃ³n</li>
<li><strong>Confirmar prÃ©stamo</strong> y recibir ticket</li>
<li><strong>Ver prÃ©stamos activos</strong> â†’ <code>Ver PrÃ©stamos</code></li>
<li><strong>Cancelar prÃ©stamo</strong> si es necesario</li>
</ol>
<h3 id="-modo-administrador">ğŸ‘¨â€ğŸ’¼ <strong>Modo Administrador</strong></h3>
<h4 id="-acceso-administrativo">ğŸ” Acceso Administrativo</h4>
<ol>
<li><strong>MenÃº Principal</strong> â†’ <code>Administrador</code></li>
<li><strong>Ingresar credenciales</strong> de administrador</li>
<li><strong>Acceder al panel</strong> de administraciÃ³n</li>
</ol>
<h4 id="-panel-de-administraciÃ³n">âš™ï¸ Panel de AdministraciÃ³n</h4>
<ul>
<li>
<p><strong>ğŸ‘¥ GestiÃ³n de Usuarios</strong>:</p>
<ul>
<li>Visualizar todos los usuarios registrados</li>
<li>Eliminar usuarios</li>
<li>Modificar informaciÃ³n de usuarios</li>
</ul>
</li>
<li>
<p><strong>ğŸ“š GestiÃ³n de Libros</strong>:</p>
<ul>
<li>Ver inventario completo</li>
<li>Agregar nuevos libros al catÃ¡logo</li>
<li>Eliminar libros (validando prÃ©stamos activos)</li>
<li>Editar informaciÃ³n de libros existentes</li>
</ul>
</li>
<li>
<p><strong>ğŸ“Š GestiÃ³n de PrÃ©stamos</strong>:</p>
<ul>
<li>Monitorear todos los prÃ©stamos del sistema</li>
<li>Ver estados: activos, vencidos, completados</li>
<li>Forzar devoluciones</li>
<li>Generar reportes de uso</li>
</ul>
</li>
</ul>
<h4 id="-agregar-nuevo-libro">â• Agregar Nuevo Libro</h4>
<ol>
<li><strong>Panel de Admin</strong> â†’ <code>Agregar Libro</code></li>
<li><strong>Completar informaciÃ³n</strong>:
<ul>
<li>TÃ­tulo del libro</li>
<li>Autor(es)</li>
<li>AÃ±o de publicaciÃ³n</li>
<li>DescripciÃ³n/contenido</li>
</ul>
</li>
<li><strong>Validar y guardar</strong> en el catÃ¡logo</li>
</ol>
<h2 id="-guÃ­a-de-desarrollo">ğŸ› ï¸ GuÃ­a de Desarrollo</h2>
<h3 id="configuraciÃ³n-del-entorno">ConfiguraciÃ³n del Entorno</h3>
<h4 id="prerrequisitos">Prerrequisitos</h4>
<ul>
<li><strong>Visual Studio 2019+</strong> con workload &ldquo;.NET desktop development&rdquo;</li>
<li><strong>SQL Server 2019+</strong> (Express, Standard, o LocalDB)</li>
<li><strong>SQL Server Management Studio</strong> (SSMS)</li>
</ul>
<h4 id="configuraciÃ³n-inicial">ConfiguraciÃ³n Inicial</h4>
<ol>
<li>
<p><strong>Clonar repositorio</strong>:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">POWERSHELL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="n">git</span> <span class="n">clone</span> <span class="p">&lt;</span><span class="nb">repository-url</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd </span><span class="n">BibliotecaFrom</span></span></span></code></pre></div>
  </div></li>
<li>
<p><strong>Configurar Base de Datos</strong>:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">SQL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- En SSMS, ejecutar en orden:
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 1. SQL QUERYS BibliotecaForm\Creacion de BibliotecaFrom.sql
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 2. SQL QUERYS BibliotecaForm\Datos de las tablas BibliotecaForm.sql
</span></span></span><span class="line"><span class="cl"><span class="c1">-- 3. SQL QUERYS BibliotecaForm\Procedimientos Almacenado BibliotecaFrom.sql</span></span></span></code></pre></div>
  </div></li>
<li>
<p><strong>Configurar cadena de conexiÃ³n</strong> en <code>Program.cs</code>:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">CSHARP</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">string</span> <span class="n">CadenaConexion</span> <span class="p">=</span> <span class="s">&#34;Server=TU_SERVIDOR;Database=BibliotecaFrom;Trusted_Connection=True;&#34;</span><span class="p">;</span></span></span></code></pre></div>
  </div></li>
<li>
<p><strong>Compilar y ejecutar</strong>:</p>
<div class="code-block">
    <div class="code-block__header">
      <span class="code-block__lang">POWERSHELL</span>
      <button class="code-block__copybtn" onclick="copyToClipboard(this)" title="Copiar cÃ³digo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c"># Desde Visual Studio: F5 o Ctrl+F5</span>
</span></span><span class="line"><span class="cl"><span class="c"># O desde lÃ­nea de comandos:</span>
</span></span><span class="line"><span class="cl"><span class="n">dotnet</span> <span class="n">build</span>
</span></span><span class="line"><span class="cl"><span class="n">dotnet</span> <span class="n">run</span></span></span></code></pre></div>
  </div></li>
</ol>
<h3 id="arquitectura-de-cÃ³digo">Arquitectura de CÃ³digo</h3>
<h4 id="patrÃ³n-de-diseÃ±o">PatrÃ³n de DiseÃ±o</h4>
<p>El proyecto sigue una <strong>arquitectura de capas</strong> simple pero efectiva:</p>
<pre class="mermaid">
    graph TB
    subgraph &#34;ğŸ¨ PresentaciÃ³n (UI Layer)&#34;
        Forms[&#34;Windows Forms&lt;br/&gt;- FrmMenuPrincipal&lt;br/&gt;- FrmUsuario&lt;br/&gt;- FrmAdministrador&lt;br/&gt;- etc.&#34;]
    end
    
    subgraph &#34;âš¡ LÃ³gica de Negocio (Business Layer)&#34;
        Validation[&#34;Validaciones&lt;br/&gt;- AutenticaciÃ³n&lt;br/&gt;- Reglas de PrÃ©stamo&lt;br/&gt;- ValidaciÃ³n de Datos&#34;]
        Business[&#34;Procesos de Negocio&lt;br/&gt;- GestiÃ³n de PrÃ©stamos&lt;br/&gt;- Control de Usuarios&lt;br/&gt;- GestiÃ³n de CatÃ¡logo&#34;]
    end
    
    subgraph &#34;ğŸ’¾ Acceso a Datos (Data Layer)&#34;
        DataAccess[&#34;ADO.NET&lt;br/&gt;- SqlConnection&lt;br/&gt;- SqlCommand&lt;br/&gt;- SqlDataAdapter&#34;]
        StoredProcs[&#34;Stored Procedures&lt;br/&gt;- Consultas Optimizadas&lt;br/&gt;- Operaciones CRUD&#34;]
    end
    
    subgraph &#34;ğŸ—„ï¸ Base de Datos (Data Storage)&#34;
        Database[&#34;SQL Server&lt;br/&gt;- Tabla Usuario&lt;br/&gt;- Tabla Libro&lt;br/&gt;- Tabla Prestamo&#34;]
    end
    
    Forms --&gt; Validation
    Forms --&gt; Business
    Validation --&gt; DataAccess
    Business --&gt; DataAccess
    DataAccess --&gt; StoredProcs
    StoredProcs --&gt; Database
    DataAccess --&gt; Database
  </pre>
  <h4 id="convenciones-de-cÃ³digo">Convenciones de CÃ³digo</h4>
<ul>
<li><strong>Formularios</strong>: Prefijo <code>Frm</code> (ej: <code>FrmMenuPrincipal</code>)</li>
<li><strong>Variables</strong>: camelCase para variables locales</li>
<li><strong>MÃ©todos</strong>: PascalCase para mÃ©todos pÃºblicos</li>
<li><strong>Constantes</strong>: UPPER_CASE para constantes</li>
<li><strong>Controles UI</strong>: Prefijo segÃºn tipo (btn, txt, dgv, etc.)</li>
</ul>
<h3 id="extensiÃ³n-del-sistema">ExtensiÃ³n del Sistema</h3>
<h4 id="agregar-nuevo-formulario">Agregar Nuevo Formulario</h4>
<ol>
<li><strong>Crear formulario</strong>: Right-click proyecto â†’ Add â†’ Windows Form</li>
<li><strong>DiseÃ±ar interfaz</strong> usando el Designer de Visual Studio</li>
<li><strong>Implementar lÃ³gica</strong> en el archivo <code>.cs</code></li>
<li><strong>Conectar navegaciÃ³n</strong> desde otros formularios</li>
</ol>
<h4 id="agregar-nueva-funcionalidad-de-bd">Agregar Nueva Funcionalidad de BD</h4>
<ol>
<li><strong>Modificar esquema</strong> de base de datos si es necesario</li>
<li><strong>Crear/Modificar stored procedures</strong></li>
<li><strong>Actualizar capa de acceso a datos</strong></li>
<li><strong>Implementar lÃ³gica de negocio</strong></li>
<li><strong>Crear/Modificar formularios UI</strong></li>
</ol>
<h2 id="-contribuciÃ³n">ğŸ¤ ContribuciÃ³n</h2>
<p>Las contribuciones son bienvenidas. Si deseas mejorar este proyecto:</p>
<ol>
<li>Haz un Fork del repositorio.</li>
<li>Crea una nueva rama (<code>git checkout -b feature/nueva-funcionalidad</code>).</li>
<li>Realiza tus cambios y haz commit (<code>git commit -am 'AÃ±adir nueva funcionalidad'</code>).</li>
<li>Sube tus cambios a la rama (<code>git push origin feature/nueva-funcionalidad</code>).</li>
<li>Abre un Pull Request.</li>
</ol>
<h2 id="-licencia">ğŸ“œ Licencia</h2>
<p>Este proyecto estÃ¡ bajo la Licencia MIT. Consulta el archivo <a href="LICENSE">LICENSE</a> para mÃ¡s detalles.</p>
<h2 id="-autor">ğŸ§‘â€ğŸ’» Autor</h2>
<p>Desarrollado con â¤ï¸ por <strong>J0SE-ESC0BAR</strong>.</p>
<p>Puedes encontrarme en:</p>
<ul>
<li>GitHub: <a href="https://github.com/J0SE-ESC0BAR">J0SE-ESC0BAR</a></li>
<li>LinkedIn: <a href="https://www.linkedin.com/in/jose-alfonso-escobar-mejia-15133620b/">https://www.linkedin.com/in/jose-alfonso-escobar-mejia-15133620b/</a></li>
<li>Correo: <a href="mailto:jose@jaem.dev">jose@jaem.dev</a></li>
<li>Correo: <a href="mailto:josealfonsoescobarmejia@gmail.com">josealfonsoescobarmejia@gmail.com</a></li>
<li>Portafolio: <a href="https://jaem.dev/projects">https://jaem.dev/projects</a></li>
<li>Sitio Web: <a href="https://jaem.dev/">https://jaem.dev/</a></li>
</ul>


      </div>
    </main>
  
  
    
<footer class="text-center text-lg-start bg-white text-light bg-opacity-10">
  
  <section  class="d-flex justify-content-between p-3 text-white bg-light bg-opacity-10">

<div class="me-5">
<span>Redes sociales:</span>
</div>


<div class="box-icons">
  
<a href="https://twitter.com/J0SE_ESC0BAR" title="twitter" target="_blank" rel="noopener noreferrer" class="text-white me-4">
<i class="bi-twitter" aria-hidden="true"></i>
</a>

<a href="https://github.com/J0SE-ESC0BAR" title="github" target="_blank" rel="noopener noreferrer" class="text-white me-4">
<i class="bi-github" aria-hidden="true"></i>
</a>

<a href="https://www.linkedin.com/in/jos%C3%A9-alfonso-escobar-mej%C3%ADa-15133620b/" title="linkedin" target="_blank" rel="noopener noreferrer" class="text-white me-4">
<i class="bi-linkedin" aria-hidden="true"></i>
</a>

</div>

</section>



  
  <section class="">
    <div class="container text-center text-md-start mt-5">
      
      <div class="row mt-3">
        
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          
          <h3 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3 text-light"></i>JAEM
          </h3>
          <p>
            Esta pagina web fue creada con el fin de compartir mis conocimientos y experiencias y ayudar a las personas para que puedan recordar de forma rapida algun punto especÃ­fico de algun tema.
          </p>
        </div>
        

        
        <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
          
          <h6 class="text-uppercase fw-bold mb-4">
            Legal
          </h6>
          <p>
            <a href="#!" class="text-light">Terms and conditions</a>
          </p>
          <p>
            <a href="#!" class="text-light">Privacy Policy</a>
          </p>
          <p>
            <a href="#!" class="text-light">Terms of use</a>
          </p>
        </div>
        

        
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          
          <h6 class="text-uppercase fw-bold mb-4">Contacto</h6>
          <p class="text-break"><i class="fas fa-envelope me-3 text-light "></i>josealfonsoescobarmejia@gmail.com</p>
          <p><i class="fas fa-phone me-3 text-light"></i> +503 7678-9687</p>
        </div>
        
      </div>
      
    </div>
  </section>
  

  
  <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.025);">
    Copyright &copy; <time datetime="2025-06-22 18:56:36.5643165 -0600 CST m=&#43;805.112518501">2025</time> - DiseÃ±o Web realizado por 
  </div>
  
</footer>


  
  
  
  
    <script src="//localhost:1313/js/scripts.js"></script>
  
    <script src="//localhost:1313/js/lightbox.js"></script>
  
  
  
  
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
  
  
  
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
  
</body>





</html>