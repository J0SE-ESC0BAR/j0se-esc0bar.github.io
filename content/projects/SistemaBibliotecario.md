---
title: "Sistema de Gesti√≥n Bibliotecaria - BibliotecaForm"
date: 2025-06-07
draft: false
description: "Un sistema completo de gesti√≥n bibliotecaria desarrollado en C# con Windows Forms, con interfaz MDI moderna y gesti√≥n avanzada de sesiones."
image: "/Capturas/BibliotecaInicio.png"
tags: ["C#", "Windows Forms", "Biblioteca", "MDI", "Gesti√≥n de Proyectos", "Sistema de Sesiones", "SQL Server"] # Tag a√±adido
viewimg: true
---
<a href="https://dotnet.microsoft.com/download/dotnet-framework"><img src="https://img.shields.io/badge/.NET%20Framework-4.8-blue.svg" alt=".NET Framework"></a>
<a href="https://www.microsoft.com/sql-server"><img src="https://img.shields.io/badge/SQL%20Server-2019+-red.svg" alt="SQL Server"></a>
<a href="https://docs.microsoft.com/dotnet/desktop/winforms/"><img src="https://img.shields.io/badge/UI-Windows%20Forms-green.svg" alt="Windows Forms"></a>
<a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License"></a>


**BibliotecaForm** es un sistema de gesti√≥n de bibliotecas robusto y f√°cil de usar, desarrollado en C# con Windows Forms. Ofrece una interfaz MDI moderna y funcionalidades completas para la administraci√≥n de libros, usuarios y pr√©stamos, ideal para peque√±as y medianas bibliotecas.

Este proyecto naci√≥ de la necesidad de contar con una herramienta eficiente y visualmente atractiva para la gesti√≥n bibliotecaria, enfoc√°ndose en la experiencia del usuario y la solidez funcional.

## üìã Tabla de Contenidos

- [‚ú® Caracter√≠sticas Principales](#-caracter√≠sticas-principales)
- [üì∏ Capturas de Pantalla](#-capturas-de-pantalla)
- [üõ†Ô∏è Tecnolog√≠as Utilizadas](#Ô∏è-tecnolog√≠as-utilizadas)
- [üíª Requisitos del Sistema](#-requisitos-del-sistema)
- [üöÄ Instalaci√≥n y Configuraci√≥n](#-instalaci√≥n-y-configuraci√≥n)
- [üèóÔ∏è Arquitectura del Sistema](#-arquitectura-del-sistema)
- [üîß M√≥dulos y Funcionalidades](#-m√≥dulos-y-funcionalidades)
- [üóÑÔ∏è Base de Datos](#Ô∏è-base-de-datos)
- [üìÅ Estructura del Proyecto](#-estructura-del-proyecto)
- [üöÄ Uso de la Aplicaci√≥n](#-uso-de-la-aplicaci√≥n)
- [ü§ù Contribuci√≥n](#-contribuci√≥n)
- [üìú Licencia](#-licencia)
- [üßë‚Äçüíª Autor](#-autor)

## ‚ú® Caracter√≠sticas Principales

- üîê **Sistema de Autenticaci√≥n Multi-Rol con Gesti√≥n de Sesiones**: Soporte para usuarios regulares y administradores con persistencia de sesi√≥n.
- üñ•Ô∏è **Interfaz MDI Moderna**: Men√∫ lateral expandible/colapsable con navegaci√≥n fluida entre formularios.
- üìö **Gesti√≥n Completa de Cat√°logo**: Agregar, editar y eliminar libros del inventario con validaciones avanzadas.
- üë• **Administraci√≥n de Usuarios**: Registro y gesti√≥n de miembros con selecci√≥n autom√°tica y validaciones.
- üìã **Control Avanzado de Pr√©stamos**: Sistema completo con tickets, alertas de vencimiento y c√≥digos de colores.
- üîç **Modo Visitante Mejorado**: Navegaci√≥n del cat√°logo sin necesidad de registro con interfaz diferenciada.
- üìä **Panel Administrativo Avanzado**: Dashboard con selecci√≥n autom√°tica de registros y gesti√≥n contextual.
- üé® **Interfaz Profesional**: Dise√±o moderno con DataGridViews estilizados y recursos visuales integrados.
- ‚ö° **Gesti√≥n Global de Configuraci√≥n**: Sistema centralizado de configuraci√≥n y cadenas de conexi√≥n.
- üöÄ **Navegaci√≥n Inteligente**: Detecci√≥n autom√°tica de sesiones activas y redirecci√≥n inteligente.

## üì∏ Capturas de Pantalla

Aqu√≠ algunas vistas de la aplicaci√≥n:

| Inicio de Sesi√≥n | Panel de Administrador | Cat√°logo de Libros (Usuario) |
|---|---|---|
| ![Inicio de Sesi√≥n](/Capturas/BibliotecaLoginUsuarioNormal.png) | ![Panel de Administrador](/Capturas/BibiotecaPanelAdministrador.png) | ![Cat√°logo de Libros](/Capturas/BibliotecaListaLibrosUsuario.png) |

| Vista de Pr√©stamos | Realizar un Pr√©stamo | Cat√°logo (Invitado) |
|---|---|---|
| ![Vista de Pr√©stamos](/Capturas/BibliotecaPrestamosDeUsuario.png) | ![Realizar un Pr√©stamo](/Capturas/BibliotecaPrestarLibro.png) | ![Cat√°logo Invitado](/Capturas/BibliotecaVistaLibrosInvitado.png) |

## üõ†Ô∏è Tecnolog√≠as Utilizadas

| Componente | Tecnolog√≠a | Versi√≥n | Caracter√≠sticas |
|------------|------------|---------|-----------------|
| **Lenguaje** | C# | 7.0+ | POO, Eventos, Delegates |
| **Framework** | .NET Framework | 4.6.2 / 4.8 | WinForms, ADO.NET |
| **Interfaz de Usuario** | Windows Forms | - | **MDI Interface**, Timers, Custom Controls |
| **Base de Datos** | Microsoft SQL Server | 2019+ | Stored Procedures, Par√°metros SQL |
| **ORM/Acceso a Datos** | ADO.NET | - | SqlConnection, SqlCommand, SqlDataAdapter |
| **Arquitectura** | MDI (Multiple Document Interface) | - | **Navegaci√≥n Fluida, Gesti√≥n de Sesiones** |
| **Gesti√≥n de Estado** | Sistema de Configuraci√≥n Global | - | **Persistencia de Sesiones, Cadenas Centralizadas** |
| **IDE Recomendado** | Visual Studio | 2019+ | IntelliSense, Designer, Debugging |

## üíª Requisitos del Sistema

### Requisitos M√≠nimos
- **SO**: Windows 10 (64-bit) o superior
- **RAM**: 4 GB m√≠nimo (8 GB recomendado)
- **Espacio**: 500 MB disponible
- **.NET Framework**: 4.6.2 o superior
- **SQL Server**: LocalDB, Express, o Standard

### Requisitos de Desarrollo
- **Visual Studio**: 2019 o superior
- **SQL Server Management Studio** (SSMS)
- **Git** para control de versiones

## üöÄ Instalaci√≥n y Configuraci√≥n

### 1. Clonar el Repositorio
```powershell
git clone https://github.com/J0SE-ESC0BAR/BibliotecaForms.git 
cd BibliotecaFrom
```

### 2. Configurar Base de Datos
1.  Abre SQL Server Management Studio (SSMS).
2.  Con√©ctate a tu instancia de SQL Server.
3.  Ejecuta los siguientes scripts SQL en el orden indicado. Puedes encontrarlos en la carpeta `SQL QUERYS BibliotecaForm/`:
    *   `Creacion de BibliotecaFrom.sql` (para crear la base de datos y las tablas).
    *   `Datos de las tablas BibliotecaForm.sql` (para poblar las tablas con datos iniciales).
    *   `Procedimientos Almacenado BibliotecaFrom.sql` (para crear los procedimientos almacenados necesarios).
    
    **Ejemplo de c√≥mo ejecutar un script en SSMS:**
    *   Abre el archivo `.sql` con SSMS (Archivo > Abrir > Archivo).
    *   Aseg√∫rate de que la base de datos correcta est√© seleccionada en el desplegable de bases de datos disponibles (deber√≠a ser `BibliotecaFrom` despu√©s de ejecutar el primer script, o `master` para el primer script).
    *   Haz clic en el bot√≥n "Ejecutar" (o presiona F5).

### 3. Configurar Cadena de Conexi√≥n
Edita el archivo `Program.cs` (aproximadamente en la l√≠nea 14) para apuntar a tu servidor de SQL Server.

Modifica la variable `CadenaConexion` dentro de la clase `Configuracion`:
```csharp
public static class Configuracion
{
    // Ejemplo: Si SQL Server est√° en la misma m√°quina y usas autenticaci√≥n de Windows:
    public static string CadenaConexion = "Server=NOMBRE_DE_TU_SERVIDOR;Database=BibliotecaFrom;Trusted_Connection=True;";
    // Ejemplo: Si SQL Server Express est√° en la misma m√°quina:
    // public static string CadenaConexion = "Server=.\\SQLEXPRESS;Database=BibliotecaFrom;Trusted_Connection=True;";
    
    // Sistema de gesti√≥n de sesiones globales
    public static int IdUsuarioActual = 0;
    public static int IdAdministradorActual = 0;
}
```
**Nota:** Reemplaza `NOMBRE_DE_TU_SERVIDOR` con el nombre de tu instancia de SQL Server. Si usas SQL Server Express, com√∫nmente es `.\\SQLEXPRESS` o `(localdb)\\MSSQLLocalDB`.

### 4. Compilar y Ejecutar
1.  Abre el archivo `BibliotecaFrom.sln` con Visual Studio.
2.  Aseg√∫rate de que el proyecto `BibliotecaFrom` est√© configurado como proyecto de inicio.
3.  Presiona `Ctrl + F5` o haz clic en el bot√≥n "Iniciar" (el tri√°ngulo verde) para compilar y ejecutar la aplicaci√≥n.

Alternativamente, desde la l√≠nea de comandos (PowerShell o CMD) en la ra√≠z del proyecto:
```powershell
msbuild BibliotecaFrom.sln /t:Rebuild /p:Configuration=Release
# Luego puedes encontrar el ejecutable en: bin\\Release\\BibliotecaFrom.exe
# o para Debug:
msbuild BibliotecaFrom.sln /t:Rebuild /p:Configuration=Debug
# Luego puedes encontrar el ejecutable en: bin\\Debug\\BibliotecaFrom.exe
```

## üèóÔ∏è Arquitectura del Sistema

BibliotecaForm implementa una **arquitectura MDI (Multiple Document Interface)** moderna con gesti√≥n avanzada de sesiones y navegaci√≥n fluida para garantizar la separaci√≥n de responsabilidades y facilitar el mantenimiento:

### Diagrama de Flujo de la Aplicaci√≥n

```mermaid
graph TD
    A[üöÄ Inicio de la Aplicaci√≥n] --> B{üè† FrmMenuPrincipal MDI}
    B -- üë§ Usuario --> C{üîç Sesi√≥n Activa?}
    B -- üë®‚Äçüíº Administrador --> D{üîç Sesi√≥n Admin Activa?}
    B -- "üëÅÔ∏è Libros (Visitante)" --> E["üìñ FrmLibros (Modo Visitante)"]
    
    C -- "‚úÖ S√≠" --> F["üìö FrmLibros (Modo Usuario)"]
    C -- "‚ùå No" --> G[üîë FrmUsuario]
    D -- "‚úÖ S√≠" --> H[‚öôÔ∏è FrmAdministrarBiblioteca]
    D -- "‚ùå No" --> I[üîê FrmAdministrador]
    
    G -- "‚úÖ Login Exitoso" --> J[üíæ Guardar Sesi√≥n] --> F
    G -- "üìù Registrarse" --> K[üìã FrmRegistrarse]
    I -- "‚úÖ Login Admin" --> L[üíæ Guardar Sesi√≥n Admin] --> H
    I -- "üìù Registrarse" --> K
    
    F -- "üì§ Prestar Libro" --> M[üìã FrmPrestar]
    F -- "üìä Ver Pr√©stamos" --> N[üìú FrmVerprestamos]
    H -- "‚ûï Agregar Libro" --> O[üìö FrmAgregarLibro]
    H -- "üë• Ver Usuarios" --> P["üë§ Panel Usuarios con Selecci√≥n"]
    H -- "üìñ Ver Libros" --> Q["üìö Panel Libros con Gesti√≥n"]
    H -- "üìã Ver Pr√©stamos" --> R["üìä Panel Pr√©stamos con Estados"]
    
    M -- "üé´ Ticket Generado" --> F
    N -- "üî¥ Alertas Vencimiento" --> F
    P -- "üóëÔ∏è Eliminar (Click-to-Select)" --> H
    Q -- "üóëÔ∏è Eliminar con Validaci√≥n" --> H
    R -- "üóëÔ∏è Gesti√≥n con C√≥digos Color" --> H
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style H fill:#fff3e0
    style F fill:#e8f5e8
    style J fill:#c8e6c9
    style L fill:#c8e6c9
```

### Arquitectura de Capas con Gesti√≥n de Estado

```mermaid
graph TB
    subgraph "üé® Capa de Presentaci√≥n MDI"
        MDI[Contenedor MDI Principal]
        MenuLateral[Men√∫ Lateral Expandible]
        Forms[Formularios Hijos Sin Bordes]
        Timers[Timers de Animaci√≥n]
    end
    
    subgraph "üîÑ Capa de Gesti√≥n de Estado"
        ConfigGlobal[Configuraci√≥n Global]
        SesionUsuario[Gesti√≥n de Sesiones]
        NavegacionMDI[Navegaci√≥n MDI]
    end
    
    subgraph "‚ö° Capa de L√≥gica de Negocio"
        Auth[Autenticaci√≥n Avanzada]
        Validation[Validaciones con Alertas]
        Business[Reglas de Negocio]
        FormateoUI[Formateo DataGridView]
    end
    
    subgraph "üíæ Capa de Acceso a Datos"
        ADO[ADO.NET con Par√°metros]
        Stored[Procedimientos Almacenados]
        ConexionGlobal[Cadena Conexi√≥n Centralizada]
    end
    
    subgraph "üóÑÔ∏è Capa de Datos"
        SQLServer[(SQL Server)]
    end
    
    MDI --> ConfigGlobal
    MenuLateral --> SesionUsuario
    Forms --> NavegacionMDI
    Timers --> MenuLateral
    
    ConfigGlobal --> Auth
    SesionUsuario --> Validation
    NavegacionMDI --> Business
    FormateoUI --> Forms
    
    Auth --> ConexionGlobal
    Validation --> ADO
    Business --> Stored
    ConexionGlobal --> SQLServer
    ADO --> SQLServer
    Stored --> SQLServer
```

## üîß M√≥dulos y Funcionalidades

### üè† 1. Men√∫ Principal MDI (`FrmMenuPrincipal`)
**Centro de control con interfaz MDI moderna**

![Men√∫ Principal](/Capturas/BibliotecaInicio.png)

**Caracter√≠sticas Principales:**
- üö™ **Acceso Multi-Rol con Gesti√≥n de Sesiones**: Detecci√≥n autom√°tica de sesiones activas y redirecci√≥n inteligente
- üëÅÔ∏è **Modo Visitante Diferenciado**: Exploraci√≥n del cat√°logo sin autenticaci√≥n con interfaz espec√≠fica
- üñ•Ô∏è **Interfaz MDI Profesional**: Contenedor principal que gestiona todos los formularios hijos
- üì± **Men√∫ Lateral Expandible**: Panel lateral con animaci√≥n suave controlada por timers
- üéÆ **Controles de Ventana**: Minimizar, maximizar, restaurar y cerrar con funcionalidad nativa
- üñ±Ô∏è **Arrastrar y Soltar**: Funcionalidad para mover la ventana arrastrando desde el header
- üñºÔ∏è **Panel Central Din√°mico**: Imagen de inicio que se oculta autom√°ticamente al abrir formularios
- ‚ùå **Gesti√≥n Inteligente**: Cierre autom√°tico de formularios MDI activos para navegaci√≥n limpia

**Funcionalidades Avanzadas:**
```csharp
// Gesti√≥n autom√°tica de sesiones
private void btnUsuario_Click(object sender, EventArgs e)
{
    if (Configuracion.IdUsuarioActual > 0)
    {
        // Sesi√≥n activa - ir directamente al cat√°logo
        FrmLibros libros = new FrmLibros(Configuracion.IdUsuarioActual);
        AbrirFormulario(libros);
    }
    else
    {
        // Sin sesi√≥n - mostrar login
        FrmUsuario usuario = new FrmUsuario();
        AbrirFormulario(usuario);
    }
}

// Animaci√≥n del men√∫ lateral
private void BtnCambiarTamanoMenu_Click(object sender, EventArgs e)
{
    if (panelMenu.Width > 60)
    {
        timerCerrar.Start(); // Colapsar men√∫
        // Ocultar texto, solo iconos
        btnUsuario.Text = "";
        btnLibros.Text = "";
    }
    else
    {
        timerAbrir.Start(); // Expandir men√∫
        // Restaurar texto completo
        btnUsuario.Text = "Usuario";
        btnLibros.Text = "Libros";
    }
}
```

---

### üîë 2. Autenticaci√≥n de Usuario con Gesti√≥n de Sesiones (`FrmUsuario`)
**Sistema de login avanzado para usuarios regulares**

![Login Usuario](/Capturas/BibliotecaLoginUsuarioNormal.png)

**Funcionalidades Mejoradas:**
- ‚úÖ **Autenticaci√≥n Segura con Persistencia**: Validaci√≥n contra base de datos con gesti√≥n de sesi√≥n global
- üîê **Protecci√≥n de Contrase√±a**: Campo con enmascaramiento autom√°tico y validaciones
- üöÄ **Redirecci√≥n Inteligente**: Acceso directo al cat√°logo tras login exitoso con estado preservado
- üìù **Registro R√°pido**: Enlace directo al formulario de registro integrado en MDI
- üîô **Navegaci√≥n MDI**: Integraci√≥n completa con el sistema de navegaci√≥n principal
- üíæ **Gesti√≥n de Estado Global**: Almacenamiento del ID de usuario en configuraci√≥n global

**Flujo de Autenticaci√≥n Mejorado:**
```csharp
private void btnIngresar_Click(object sender, EventArgs e)
{
    string consulta = "SELECT ID_Usuario FROM Usuario WHERE usuario = @usuario AND Contrase√±a = @contrase√±a";
    
    using (SqlConnection conexion = new SqlConnection(cadenaConexion))
    {
        SqlCommand comando = new SqlCommand(consulta, conexion);
        comando.Parameters.AddWithValue("@usuario", txtUsuario.Text);
        comando.Parameters.AddWithValue("@contrase√±a", txtContrase√±a.Text);
        
        object resultado = comando.ExecuteScalar();
        if (resultado != null)
        {
            int idUsuario = (int)resultado;
            // Guardar sesi√≥n globalmente
            Configuracion.IdUsuarioActual = idUsuario;
            
            // Navegaci√≥n MDI
            FrmLibros libros = new FrmLibros(idUsuario);
            FrmMenuPrincipal principal = this.MdiParent as FrmMenuPrincipal;
            principal?.AbrirFormulario(libros);
        }
    }
}
```

---

### üîê 3. Autenticaci√≥n de Administrador con Sesi√≥n Persistente (`FrmAdministrador`)
**Acceso privilegiado con gesti√≥n avanzada de sesiones**

![Login Admin](/Capturas/BibiotecaPanelAdministrador.png)

**Caracter√≠sticas Especiales:**
- üë®‚Äçüíº **Verificaci√≥n de Privilegios Avanzada**: Validaci√≥n del campo `Administrador` con seguridad reforzada
- üõ°Ô∏è **Seguridad Multi-Capa**: Autenticaci√≥n con validaci√≥n de roles espec√≠ficos
- ‚öôÔ∏è **Acceso Total con Persistencia**: Redirecci√≥n al panel de administraci√≥n con sesi√≥n global
- üîß **Gesti√≥n Avanzada**: Permisos para todas las operaciones CRUD con validaciones
- üîÑ **Sesi√≥n Persistente Inteligente**: La sesi√≥n del administrador se mantiene hasta cierre expl√≠cito
- üìù **Registro de Administradores**: Acceso al formulario de registro con c√≥digo secreto

**Autenticaci√≥n de Administrador:**
```csharp
private void btnIngresar_Click(object sender, EventArgs e)
{
    string consulta = "SELECT COUNT(*) FROM Usuario WHERE usuario = @usuario AND Contrase√±a = @contrase√±a AND Administrador = 1";
    
    using (SqlConnection conexion = new SqlConnection(Configuracion.CadenaConexion))
    {
        SqlCommand comando = new SqlCommand(consulta, conexion);
        comando.Parameters.AddWithValue("@usuario", txtUsuario.Text);
        comando.Parameters.AddWithValue("@contrase√±a", txtContrase√±a.Text);
        
        int cantidad = (int)comando.ExecuteScalar();
        if (cantidad > 0)
        {
            // Guardar sesi√≥n de administrador
            Configuracion.IdAdministradorActual = 1; // Marcar sesi√≥n activa
            
            // Abrir panel de administraci√≥n
            FrmAdministrarBiblioteca adm = new FrmAdministrarBiblioteca();
            FrmMenuPrincipal principal = this.MdiParent as FrmMenuPrincipal;
            principal?.AbrirFormulario(adm);
        }
    }
}
```

---

### üìù 4. Registro de Usuario (`FrmRegistrarse`)
**Sistema de registro con validaciones**

![Registro Usuario](/Capturas/BibliotecaRegistrarse.png)

**Campos del Formulario:**
| Campo | Tipo | Requerido | Validaci√≥n |
|-------|------|-----------|------------|
| Nombre Completo | Text | ‚úÖ | M√≠nimo 3 caracteres |
| Direcci√≥n | Text | ‚úÖ | - |
| Tel√©fono | Text | ‚úÖ | Formato num√©rico |
| Correo | Email | ‚úÖ | Formato email v√°lido |
| Usuario | Text | ‚úÖ | √önico en BD |
| Contrase√±a | Password | ‚úÖ | M√≠nimo 6 caracteres |
| Es Administrador | Checkbox | ‚ùå | C√≥digo secreto requerido |

**Funcionalidades:**
- üîç **Validaci√≥n en Tiempo Real**: Verificaci√≥n de campos durante escritura
- üîê **C√≥digo Secreto**: Sistema de elevaci√≥n de privilegios para administradores
- üíæ **Persistencia Inmediata**: Guardado autom√°tico en base de datos
- ‚ö†Ô∏è **Manejo de Errores**: Mensajes descriptivos para el usuario

---

### üìö 5. Cat√°logo de Libros Mejorado (`FrmLibros`)
**N√∫cleo del sistema con interfaz profesional**

![Cat√°logo de Libros](/Capturas/BibliotecaVistaLibrosInvitado.png)

**Modos de Funcionamiento Avanzados:**

#### üëÅÔ∏è Modo Visitante
- üîç **Solo Lectura Optimizada**: Visualizaci√≥n completa del cat√°logo con interfaz limpia
- üìñ **Informaci√≥n Detallada**: Todos los datos de los libros con formateo profesional
- üö´ **Restricciones Visuales**: Elementos de pr√©stamo ocultos autom√°ticamente

#### üë§ Modo Usuario Autenticado
- üì§ **Pr√©stamos con Validaci√≥n**: Solicitud de pr√©stamos con verificaciones autom√°ticas
- üìä **Historial Personal Avanzado**: Acceso a pr√©stamos activos con alertas de vencimiento
- üîÑ **Gesti√≥n Completa**: Pr√©stamos y devoluciones con sistema de tickets

**Mejoras de Interfaz:**
- üé® **DataGridView Estilizado**: Colores corporativos y formateo profesional
- üü¢üî¥ **Indicadores Visuales**: Estados de disponibilidad con c√≥digo de colores
- üì± **Responsive Design**: Columnas que se adaptan autom√°ticamente
- üñ±Ô∏è **Selecci√≥n Intuitiva**: Click para seleccionar libros con feedback visual

**Configuraci√≥n Visual Avanzada:**
```csharp
private void ConfigurarDataGridView()
{
    // Estilo profesional
    dgvMostrar.BorderStyle = BorderStyle.None;
    dgvMostrar.AlternatingRowsDefaultCellStyle.BackColor = Color.FromArgb(238, 239, 249);
    dgvMostrar.DefaultCellStyle.SelectionBackColor = Color.FromArgb(35, 56, 205);
    dgvMostrar.DefaultCellStyle.SelectionForeColor = Color.WhiteSmoke;
    
    // Header estilizado
    dgvMostrar.ColumnHeadersDefaultCellStyle.BackColor = Color.FromArgb(18, 26, 54);
    dgvMostrar.ColumnHeadersDefaultCellStyle.ForeColor = Color.White;
    dgvMostrar.ColumnHeadersDefaultCellStyle.Font = new Font("Arial Rounded MT Bold", 10);
    
    // Configuraci√≥n de columnas optimizada
    if (dgvMostrar.Columns.Contains("tituloLibro"))
    {
        dgvMostrar.Columns["tituloLibro"].HeaderText = "Libro";
        dgvMostrar.Columns["tituloLibro"].FillWeight = 25;
    }
}

// Formateo con c√≥digo de colores para disponibilidad
private void dgvMostrar_CellFormatting(object sender, DataGridViewCellFormattingEventArgs e)
{
    if (dgvMostrar.Columns[e.ColumnIndex].Name == "disponible" && e.Value != null)
    {
        bool disponible = Convert.ToBoolean(e.Value);
        if (disponible)
        {
            e.CellStyle.ForeColor = Color.Green;
            e.CellStyle.Font = new Font(e.CellStyle.Font, FontStyle.Bold);
            e.Value = "S√≠";
        }
        else
        {
            e.CellStyle.ForeColor = Color.Red;
            e.CellStyle.Font = new Font(e.CellStyle.Font, FontStyle.Bold);
            e.Value = "No";
        }
    }
}
```

---

### üìã 6. Gesti√≥n de Pr√©stamos (`FrmPrestar`)
**Sistema inteligente de tickets para gesti√≥n de pr√©stamos**

![Pr√©stamos](/Capturas/BibliotecaPrestarLibro.png)

**Funcionalidades Avanzadas:**
- üé´ **Sistema de Tickets Inteligente**: Generaci√≥n autom√°tica de comprobantes √∫nicos para cada pr√©stamo
- üîÑ **Registro Autom√°tico**: Guardado directo en tabla `Prestamo` con validaciones completas
- üìä **Control de Disponibilidad**: Verificaci√≥n en tiempo real de la disponibilidad de libros
- üéØ **Seguimiento de Estados**: Monitoreo activo de pr√©stamos con c√≥digos de color visuales
- ‚è∞ **Alertas de Vencimiento**: Sistema de notificaciones para pr√©stamos pr√≥ximos a vencer
- ‚úÖ **Validaci√≥n Autom√°tica**: Verificaci√≥n integral de usuarios y disponibilidad de libros
- üñ±Ô∏è **Interfaz Intuitiva**: Selecci√≥n autom√°tica de registros y feedback visual inmediato

**Flujo de Pr√©stamo Mejorado:**
1. üìñ **Selecci√≥n Inteligente**: Libro seleccionado desde el cat√°logo con validaci√≥n autom√°tica
2. üë§ **Usuario Autom√°tico**: Identificaci√≥n del usuario logueado desde sesi√≥n global
3. üìÖ **Configuraci√≥n de Fechas**: Fecha de pr√©stamo autom√°tica y devoluci√≥n calculada
4. üîç **Validaciones M√∫ltiples**: Verificaci√≥n de disponibilidad, usuario activo y l√≠mites
5. üíæ **Registro Completo**: Guardado en tabla `Prestamo` con transacciones seguras
6. üé´ **Ticket Generado**: Comprobante √∫nico con c√≥digo de seguimiento
7. üîÑ **Actualizaci√≥n Autom√°tica**: Refresh del cat√°logo con nuevo estado de disponibilidad

**Validaciones Avanzadas:**
- ‚úÖ **Disponibilidad del Libro**: Verificaci√≥n en tiempo real del estado
- ‚úÖ **Usuario Activo**: Validaci√≥n de sesi√≥n y permisos activos
- ‚úÖ **Fechas V√°lidas**: Control de rangos (devoluci√≥n > pr√©stamo)
- ‚úÖ **L√≠mite de Pr√©stamos**: Control por usuario seg√∫n pol√≠ticas
- ‚úÖ **Integridad de Datos**: Validaci√≥n de IDs y referencias de base de datos
- ‚úÖ **Transacciones Seguras**: Rollback autom√°tico en caso de errores

**Implementaci√≥n del Sistema de Tickets:**
```csharp
private void btnPrestar_Click(object sender, EventArgs e)
{
    try
    {
        // Validaci√≥n de disponibilidad en tiempo real
        string consultaDisponibilidad = "SELECT COUNT(*) FROM Prestamo WHERE ID_Libro = @idLibro AND fecha_devolucion >= GETDATE()";
        
        // Registro del pr√©stamo con transacci√≥n
        string insertPrestamo = "INSERT INTO Prestamo (ID_Usuario, ID_Libro, fecha_prestamo, fecha_devolucion) VALUES (@idUsuario, @idLibro, @fechaPrestamo, @fechaDevolucion)";
        
        using (SqlConnection conexion = new SqlConnection(Configuracion.CadenaConexion))
        {
            conexion.Open();
            using (SqlTransaction transaccion = conexion.BeginTransaction())
            {
                // Ejecutar pr√©stamo con validaciones
                SqlCommand comando = new SqlCommand(insertPrestamo, conexion, transaccion);
                comando.Parameters.AddWithValue("@idUsuario", Configuracion.IdUsuarioActual);
                comando.Parameters.AddWithValue("@idLibro", idLibroSeleccionado);
                comando.Parameters.AddWithValue("@fechaPrestamo", DateTime.Now);
                comando.Parameters.AddWithValue("@fechaDevolucion", dtpDevolucion.Value);
                
                int resultado = comando.ExecuteNonQuery();
                if (resultado > 0)
                {
                    transaccion.Commit();
                    // Generar ticket √∫nico
                    GenerarTicketPrestamo();
                    MessageBox.Show("‚úÖ Pr√©stamo registrado exitosamente. Ticket generado.", "Pr√©stamo Exitoso");
                }
            }
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show($"‚ùå Error al procesar pr√©stamo: {ex.Message}", "Error");
    }
}
```

---

### üìú 7. Historial de Pr√©stamos (`FrmVerprestamos`)
**Panel avanzado de pr√©stamos con alertas de vencimiento**

![Historial de Pr√©stamos](/Capturas/BibliotecaPrestamosDeUsuario.png)

**Funcionalidades Mejoradas:**
- üî¥ **Alertas de Vencimiento**: Sistema inteligente que detecta y resalta pr√©stamos pr√≥ximos a vencer
- üìä **DataGridView Estilizado**: Presentaci√≥n profesional con c√≥digos de colores para estados
- üîÑ **Actualizaci√≥n Autom√°tica**: Refresh din√°mico del estado de pr√©stamos
- üìÖ **Formateo Inteligente de Fechas**: Presentaci√≥n clara de fechas de pr√©stamo y devoluci√≥n
- üéØ **Selecci√≥n Autom√°tica**: Click-to-select para gesti√≥n r√°pida de pr√©stamos
- ‚ö° **Carga Optimizada**: Consultas eficientes con JOIN para datos completos

**Informaci√≥n Detallada Mostrada:**
- üìö **Detalles Completos del Libro**: T√≠tulo, autor, a√±o de publicaci√≥n con formateo
- üìÖ **Gesti√≥n de Fechas**: Pr√©stamo y devoluci√≥n con alertas visuales
- üÜî **Referencias √önicas**: IDs de pr√©stamo y libro para trazabilidad
- ‚è∞ **Estados Din√°micos**: Vigente, pr√≥ximo a vencer, vencido con colores
- üî¢ **C√≥digos de Seguimiento**: Sistema de tickets para control administrativo

**Acciones Avanzadas Disponibles:**
- ‚ùå **Cancelar Pr√©stamo Inteligente**: Devoluci√≥n anticipada con validaciones autom√°ticas
- üîç **Ver Detalles Expandidos**: Modal con informaci√≥n completa del pr√©stamo y usuario
- üîÑ **Renovar con Validaci√≥n**: Extensi√≥n autom√°tica si no hay reservas pendientes
- üìä **Exportar Historial**: Generaci√≥n de reportes de pr√©stamos del usuario
- üîî **Configurar Alertas**: Personalizaci√≥n de notificaciones de vencimiento

**Sistema de Alertas Visuales:**
```csharp
private void dgvPrestamos_CellFormatting(object sender, DataGridViewCellFormattingEventArgs e)
{
    if (dgvPrestamos.Columns[e.ColumnIndex].Name == "fecha_devolucion" && e.Value != null)
    {
        DateTime fechaDevolucion = Convert.ToDateTime(e.Value);
        DateTime hoy = DateTime.Now.Date;
        TimeSpan diferencia = fechaDevolucion.Date - hoy;
        
        // Sistema de c√≥digos de colores
        if (diferencia.Days < 0)
        {
            // Vencido - Rojo
            e.CellStyle.BackColor = Color.FromArgb(255, 235, 235);
            e.CellStyle.ForeColor = Color.DarkRed;
            e.CellStyle.Font = new Font(e.CellStyle.Font, FontStyle.Bold);
        }
        else if (diferencia.Days <= 2)
        {
            // Pr√≥ximo a vencer - Amarillo
            e.CellStyle.BackColor = Color.FromArgb(255, 248, 220);
            e.CellStyle.ForeColor = Color.DarkOrange;
            e.CellStyle.Font = new Font(e.CellStyle.Font, FontStyle.Bold);
        }
        else
        {
            // Vigente - Verde
            e.CellStyle.BackColor = Color.FromArgb(235, 255, 235);
            e.CellStyle.ForeColor = Color.DarkGreen;
        }
        
        // Formato de fecha legible
        e.Value = fechaDevolucion.ToString("dd/MM/yyyy");
        e.FormattingApplied = true;
    }
}
```

**Consulta Optimizada con JOIN:**
```csharp
string consulta = @"
    SELECT 
        p.ID_Prestamo,
        p.ID_Libro,
        l.tituloLibro,
        l.autor,
        l.a√±o_publicacion,
        p.fecha_prestamo,
        p.fecha_devolucion,
        CASE 
            WHEN p.fecha_devolucion < GETDATE() THEN 'Vencido'
            WHEN DATEDIFF(day, GETDATE(), p.fecha_devolucion) <= 2 THEN 'Pr√≥ximo a Vencer'
            ELSE 'Vigente'
        END AS Estado
    FROM Prestamo p
    INNER JOIN Libro l ON p.ID_Libro = l.id_libro
    WHERE p.ID_Usuario = @idUsuario
    ORDER BY p.fecha_devolucion ASC";
```

---

### ‚öôÔ∏è 8. Panel de Administraci√≥n (`FrmAdministrarBiblioteca`)
**Centro de control administrativo con selecci√≥n autom√°tica y gesti√≥n contextual**

![Panel de Administraci√≥n](/Capturas/BibiotecaPanelAdministrador.png)

**Funcionalidades Globales del Panel:**
- üéØ **Selecci√≥n Autom√°tica**: Sistema de click-to-select en todos los DataGridViews para gesti√≥n r√°pida
- üîÑ **Actualizaci√≥n Din√°mica**: Refresh autom√°tico de datos tras operaciones CRUD
- üìä **DataGridViews Estilizados**: Presentaci√≥n profesional con colores corporativos
- üóëÔ∏è **Eliminaci√≥n Contextual**: Botones que se activan/desactivan seg√∫n la selecci√≥n
- ‚ö° **Carga Optimizada**: Consultas eficientes con joins para datos relacionados
- üé® **Interfaz Unificada**: Consistencia visual en todas las pesta√±as de gesti√≥n

**Pesta√±as de Gesti√≥n Avanzada:**

#### üë• Gesti√≥n de Usuarios con Selecci√≥n Inteligente
- üìä **Vista Tabular Completa**: Lista de usuarios con informaci√≥n detallada y formateo
- üéØ **Selecci√≥n Autom√°tica**: Click en fila para seleccionar usuario autom√°ticamente
- üóëÔ∏è **Eliminaci√≥n Inteligente**: Bot√≥n que se activa solo al seleccionar usuario v√°lido
- üìù **Informaci√≥n Expandida**: Mostrar nombre completo, direcci√≥n, tel√©fono, correo y rol
- üîç **B√∫squeda Contextual**: Filtros din√°micos por tipo de usuario (admin/regular)
- ‚ö†Ô∏è **Validaciones Avanzadas**: Verificar pr√©stamos activos antes de eliminar usuarios

```csharp
// Selecci√≥n autom√°tica en DataGridView de usuarios
private void dgvUsuarios_CellClick(object sender, DataGridViewCellEventArgs e)
{
    if (e.RowIndex >= 0)
    {
        DataGridViewRow fila = dgvUsuarios.Rows[e.RowIndex];
        idUsuarioSeleccionado = Convert.ToInt32(fila.Cells["ID_Usuario"].Value);
        
        // Activar bot√≥n de eliminaci√≥n
        btnEliminarUsuario.Enabled = true;
        btnEliminarUsuario.Text = $"Eliminar Usuario (ID: {idUsuarioSeleccionado})";
        
        // Mostrar informaci√≥n detallada
        lblUsuarioSeleccionado.Text = $"Seleccionado: {fila.Cells["nombreCompleto"].Value}";
    }
}
```

#### üìö Gesti√≥n de Libros con Control de Inventario
- üìñ **Inventario Inteligente**: Vista completa con estados de disponibilidad autom√°ticos
- ‚ûï **Agregar Nuevos**: Integraci√≥n directa con FrmAgregarLibro desde bot√≥n contextual
- ‚úèÔ∏è **Edici√≥n en Contexto**: Modificaci√≥n de informaci√≥n con selecci√≥n previa
- üóëÔ∏è **Eliminaci√≥n con Validaci√≥n**: Verificaci√≥n autom√°tica de pr√©stamos activos antes de borrar
- üîç **Estados Visuales**: Indicadores de disponibilidad con c√≥digos de color
- üìä **M√©tricas de Uso**: Contadores de pr√©stamos activos por libro

```csharp
// Validaci√≥n antes de eliminar libro
private void btnEliminarLibro_Click(object sender, EventArgs e)
{
    if (idLibroSeleccionado > 0)
    {
        // Verificar pr√©stamos activos
        string consultaValidacion = "SELECT COUNT(*) FROM Prestamo WHERE ID_Libro = @idLibro AND fecha_devolucion >= GETDATE()";
        
        using (SqlConnection conexion = new SqlConnection(Configuracion.CadenaConexion))
        {
            SqlCommand comando = new SqlCommand(consultaValidacion, conexion);
            comando.Parameters.AddWithValue("@idLibro", idLibroSeleccionado);
            
            int prestamosActivos = (int)comando.ExecuteScalar();
            
            if (prestamosActivos > 0)
            {
                MessageBox.Show($"‚ùå No se puede eliminar. El libro tiene {prestamosActivos} pr√©stamo(s) activo(s).", 
                              "Validaci√≥n", MessageBoxButtons.OK, MessageBoxIcon.Warning);
                return;
            }
            
            // Proceder con eliminaci√≥n si est√° libre
            EliminarLibroSeguro();
        }
    }
}
```

#### üìä Gesti√≥n de Pr√©stamos con Estados Avanzados
- üìã **Vista General Completa**: Todos los pr√©stamos con informaci√≥n de usuarios y libros
- ‚è∞ **Estados Din√°micos**: Vigente, pr√≥ximo a vencer, vencido con alertas visuales
- üîÑ **Acciones Contextuales**: Forzar devoluci√≥n, extender plazos seg√∫n selecci√≥n
- üìà **Dashboard de Estad√≠sticas**: M√©tricas en tiempo real de uso de la biblioteca
- üî¥ **Alertas Autom√°ticas**: Notificaciones visuales para pr√©stamos problem√°ticos
- üìä **Reportes Integrados**: Generaci√≥n de informes de gesti√≥n

**Sistema de Estados Visuales:**
```csharp
private void ConfigurarDataGridViewPrestamos()
{
    // Estilo profesional para pr√©stamos
    dgvPrestamos.BorderStyle = BorderStyle.None;
    dgvPrestamos.AlternatingRowsDefaultCellStyle.BackColor = Color.FromArgb(240, 248, 255);
    
    // Formateo de fechas con estados
    dgvPrestamos.CellFormatting += (sender, e) =>
    {
        if (e.ColumnIndex == dgvPrestamos.Columns["fecha_devolucion"].Index && e.Value != null)
        {
            DateTime fechaDevolucion = Convert.ToDateTime(e.Value);
            DateTime hoy = DateTime.Now.Date;
            
            if (fechaDevolucion < hoy)
            {
                // Vencido - Fondo rojo
                e.CellStyle.BackColor = Color.FromArgb(255, 230, 230);
                e.CellStyle.ForeColor = Color.DarkRed;
            }
            else if ((fechaDevolucion - hoy).Days <= 3)
            {
                // Pr√≥ximo a vencer - Fondo amarillo
                e.CellStyle.BackColor = Color.FromArgb(255, 255, 200);
                e.CellStyle.ForeColor = Color.DarkOrange;
            }
        }
    };
}
```

**Consulta Integrada para Panel Administrativo:**
```csharp
string consultaCompleta = @"
    SELECT 
        p.ID_Prestamo,
        u.nombreCompleto AS Usuario,
        l.tituloLibro AS Libro,
        l.autor AS Autor,
        p.fecha_prestamo,
        p.fecha_devolucion,
        CASE 
            WHEN p.fecha_devolucion < GETDATE() THEN 'Vencido'
            WHEN DATEDIFF(day, GETDATE(), p.fecha_devolucion) <= 3 THEN 'Por Vencer'
            ELSE 'Vigente'
        END AS Estado,
        DATEDIFF(day, GETDATE(), p.fecha_devolucion) AS DiasRestantes
    FROM Prestamo p
    INNER JOIN Usuario u ON p.ID_Usuario = u.ID_Usuario
    INNER JOIN Libro l ON p.ID_Libro = l.id_libro
    ORDER BY p.fecha_devolucion ASC";
```

---

### ‚ûï 9. Agregar Libro (`FrmAgregarLibro`)
**Expansi√≥n del cat√°logo**
![Agregar Libro](/Capturas/BibliotecaPrestarLibro.png)

**Formulario de Libro:**
| Campo | Tipo | Descripci√≥n |
|-------|------|-------------|
| üìñ T√≠tulo | TextBox | Nombre del libro |
| ‚úçÔ∏è Autor | TextBox | Autor(es) del libro |
| üìÖ A√±o | NumericUpDown | A√±o de publicaci√≥n |
| üìÑ Contenido | RichTextBox | Descripci√≥n/resumen |

**Validaciones:**
- ‚úÖ **T√≠tulo √önico**: No duplicados en el cat√°logo
- ‚úÖ **A√±o V√°lido**: Rango temporal l√≥gico
- ‚úÖ **Campos Obligatorios**: Todos los campos requeridos
- ‚úÖ **Formato**: Validaci√≥n de tipos de datos

## üóÑÔ∏è Base de Datos

### Diagrama Entidad-Relaci√≥n (ERD)

```mermaid
erDiagram
    Usuario {
        int ID_Usuario PK "Identificador √∫nico del usuario"
        varchar nombreCompleto "Nombre completo del usuario"
        varchar direccion "Direcci√≥n del usuario"
        varchar telefono "N√∫mero de tel√©fono"
        varchar Correo "Correo electr√≥nico"
        varchar usuario "Nombre de usuario √∫nico"
        varchar Contrase√±a "Contrase√±a encriptada"
        int Administrador "Flag: 1=Admin, 0=Usuario"
    }

    Libro {
        int id_libro PK "Identificador √∫nico del libro"
        varchar tituloLibro "T√≠tulo del libro"
        varchar autor "Autor(es) del libro"
        varchar a√±o_publicacion "A√±o de publicaci√≥n"
        text contenido "Descripci√≥n o resumen"
    }

    Prestamo {
        int ID_Prestamo PK "Identificador √∫nico del pr√©stamo"
        int ID_Usuario FK "Referencia al usuario"
        int ID_Libro FK "Referencia al libro"
        date fecha_prestamo "Fecha de inicio del pr√©stamo"
        date fecha_devolucion "Fecha l√≠mite de devoluci√≥n"
    }

    Usuario ||--o{ Prestamo : "realiza"
    Libro ||--o{ Prestamo : "es_prestado_en"
```

### Scripts de Base de Datos

El proyecto incluye scripts SQL organizados en la carpeta `SQL QUERYS BibliotecaForm/`:

| Script | Prop√≥sito | Orden de Ejecuci√≥n |
|--------|-----------|-------------------|
| `Creacion de BibliotecaFrom.sql` | üèóÔ∏è Estructura de BD | 1Ô∏è‚É£ |
| `Datos de las tablas BibliotecaForm.sql` | üìä Datos iniciales | 2Ô∏è‚É£ |
| `Procedimientos Almacenado BibliotecaFrom.sql` | ‚öôÔ∏è Stored Procedures | 3Ô∏è‚É£ |

### Estructura Detallada de Tablas

#### üë§ Tabla Usuario
```sql
CREATE TABLE Usuario (
    ID_Usuario int IDENTITY(1,1) PRIMARY KEY,
    nombreCompleto varchar(100) NOT NULL,
    direccion varchar(200) NOT NULL,
    telefono varchar(20) NOT NULL,
    Correo varchar(100) NOT NULL UNIQUE,
    usuario varchar(50) NOT NULL UNIQUE,
    Contrase√±a varchar(100) NOT NULL,
    Administrador int DEFAULT 0 CHECK (Administrador IN (0,1))
);
```

#### üìö Tabla Libro
```sql
CREATE TABLE Libro (
    id_libro int IDENTITY(1,1) PRIMARY KEY,
    tituloLibro varchar(200) NOT NULL,
    autor varchar(100) NOT NULL,
    a√±o_publicacion varchar(4) NOT NULL,
    contenido text
);
```

#### üìã Tabla Prestamo
```sql
CREATE TABLE Prestamo (
    ID_Prestamo int IDENTITY(1,1) PRIMARY KEY,
    ID_Usuario int NOT NULL,
    ID_Libro int NOT NULL,
    fecha_prestamo date NOT NULL DEFAULT GETDATE(),
    fecha_devolucion date NOT NULL,
    FOREIGN KEY (ID_Usuario) REFERENCES Usuario(ID_Usuario),
    FOREIGN KEY (ID_Libro) REFERENCES Libro(id_libro),
    CHECK (fecha_devolucion > fecha_prestamo)
);
```

### Configuraci√≥n de Conexi√≥n

La cadena de conexi√≥n se configura en `Program.cs`:

```csharp
public static class Configuracion
{
    // Configuraci√≥n para SQL Server local
    public static string CadenaConexion = "Server=localhost\\SERVERDEV;Database=BibliotecaFrom;Trusted_Connection=True;";
    
    // Alternativas de configuraci√≥n:
    // SQL Server Express LocalDB
    // "Server=(localdb)\\MSSQLLocalDB;Database=BibliotecaFrom;Trusted_Connection=True;"
    
    // SQL Server con autenticaci√≥n
    // "Server=servidor;Database=BibliotecaFrom;User Id=usuario;Password=contrase√±a;"
}
```

## üìÅ Estructura del Proyecto

### Estructura Principal
```
BibliotecaFrom/
‚îú‚îÄ‚îÄ üìÑ BibliotecaFrom.sln          # Archivo de soluci√≥n de Visual Studio
‚îú‚îÄ‚îÄ üìÑ BibliotecaFrom.csproj       # Archivo de proyecto C#
‚îú‚îÄ‚îÄ üìÑ App.config                  # Configuraci√≥n de la aplicaci√≥n
‚îú‚îÄ‚îÄ üìÑ Program.cs                  # Punto de entrada de la aplicaci√≥n
‚îú‚îÄ‚îÄ üìÑ README.md                   # Documentaci√≥n del proyecto
‚îÇ
‚îú‚îÄ‚îÄ üñºÔ∏è Formularios Windows Forms/
‚îÇ   ‚îú‚îÄ‚îÄ FrmMenuPrincipal.*         # Men√∫ principal de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ FrmUsuario.*               # Autenticaci√≥n de usuarios
‚îÇ   ‚îú‚îÄ‚îÄ FrmAdministrador.*         # Autenticaci√≥n de administradores
‚îÇ   ‚îú‚îÄ‚îÄ FrmRegistrarse.*           # Registro de nuevos usuarios
‚îÇ   ‚îú‚îÄ‚îÄ FrmLibros.*                # Cat√°logo y gesti√≥n de libros
‚îÇ   ‚îú‚îÄ‚îÄ FrmPrestar.*               # Sistema de pr√©stamos
‚îÇ   ‚îú‚îÄ‚îÄ FrmVerprestamos.*          # Historial de pr√©stamos del usuario
‚îÇ   ‚îú‚îÄ‚îÄ FrmAdministrarBiblioteca.* # Panel de administraci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ FrmAgregarLibro.*          # Formulario para agregar libros
‚îÇ
‚îú‚îÄ‚îÄ üóÑÔ∏è SQL QUERYS BibliotecaForm/
‚îÇ   ‚îú‚îÄ‚îÄ Creacion de BibliotecaFrom.sql           # Script de creaci√≥n de BD
‚îÇ   ‚îú‚îÄ‚îÄ Datos de las tablas BibliotecaForm.sql   # Datos iniciales
‚îÇ   ‚îî‚îÄ‚îÄ Procedimientos Almacenado BibliotecaFrom.sql # Stored Procedures
‚îÇ
‚îú‚îÄ‚îÄ üé® Resources/                   # Recursos gr√°ficos
‚îÇ   ‚îú‚îÄ‚îÄ 1BNS.png                   # Logo principal
‚îÇ   ‚îú‚îÄ‚îÄ admin_person_user_man_2839.png
‚îÇ   ‚îú‚îÄ‚îÄ agregar libros.jpg
‚îÇ   ‚îú‚îÄ‚îÄ prestamos.jpg
‚îÇ   ‚îú‚îÄ‚îÄ regis.png
‚îÇ   ‚îî‚îÄ‚îÄ registrarse.jpg
‚îÇ
‚îî‚îÄ‚îÄ ‚öôÔ∏è Properties/                  # Propiedades del proyecto
    ‚îú‚îÄ‚îÄ AssemblyInfo.cs            # Informaci√≥n del ensamblado
    ‚îú‚îÄ‚îÄ Resources.Designer.cs      # Recursos embebidos
    ‚îú‚îÄ‚îÄ Resources.resx
    ‚îú‚îÄ‚îÄ Settings.Designer.cs       # Configuraciones
    ‚îî‚îÄ‚îÄ Settings.settings
```

### Descripci√≥n de Archivos Clave

| Archivo/Carpeta | Descripci√≥n |
|-----------------|-------------|
| `Program.cs` | **Punto de entrada**: Configuraci√≥n inicial y lanzamiento de la aplicaci√≥n |
| `Frm*.cs` | **Formularios**: L√≥gica de negocio de cada ventana |
| `Frm*.Designer.cs` | **Dise√±o UI**: C√≥digo generado autom√°ticamente para la interfaz |
| `Frm*.resx` | **Recursos**: Im√°genes, textos y configuraciones espec√≠ficas del formulario |
| `SQL QUERYS BibliotecaForm/` | **Scripts de BD**: Todos los scripts necesarios para configurar la base de datos |
| `Resources/` | **Recursos Gr√°ficos**: Im√°genes e iconos utilizados en la interfaz |
| `App.config` | **Configuraci√≥n**: Cadenas de conexi√≥n y configuraciones de la aplicaci√≥n |

## üöÄ Uso de la Aplicaci√≥n

### üëÅÔ∏è **Modo Visitante (Sin registro)**

1. **Ejecutar la aplicaci√≥n** ‚Üí `BibliotecaFrom.exe`
2. **Seleccionar** ‚Üí `Ver Libros`
3. **Explorar** el cat√°logo completo de libros disponibles
4. **Visualizar** informaci√≥n detallada de cada libro

### üë§ **Modo Usuario Regular**

#### üìù Registro de Nuevo Usuario
1. **Men√∫ Principal** ‚Üí `Usuario` ‚Üí `Registrarse`
2. **Completar formulario**:
   - Nombre completo
   - Direcci√≥n
   - Tel√©fono
   - Correo electr√≥nico
   - Nombre de usuario (√∫nico)
   - Contrase√±a (m√≠nimo 6 caracteres)
3. **Confirmar registro**

#### üîë Iniciar Sesi√≥n
1. **Men√∫ Principal** ‚Üí `Usuario`
2. **Ingresar credenciales** (usuario y contrase√±a)
3. **Acceder al cat√°logo** con funcionalidades completas

#### üìö Gestionar Pr√©stamos
1. **Seleccionar libro** del cat√°logo
2. **Solicitar pr√©stamo** ‚Üí `Prestar Libro`
3. **Configurar fechas** de pr√©stamo y devoluci√≥n
4. **Confirmar pr√©stamo** y recibir ticket
5. **Ver pr√©stamos activos** ‚Üí `Ver Pr√©stamos`
6. **Cancelar pr√©stamo** si es necesario

### üë®‚Äçüíº **Modo Administrador**

#### üîê Acceso Administrativo
1. **Men√∫ Principal** ‚Üí `Administrador`
2. **Ingresar credenciales** de administrador
3. **Acceder al panel** de administraci√≥n

#### ‚öôÔ∏è Panel de Administraci√≥n
- **üë• Gesti√≥n de Usuarios**:
  - Visualizar todos los usuarios registrados
  - Eliminar usuarios
  - Modificar informaci√≥n de usuarios

- **üìö Gesti√≥n de Libros**:
  - Ver inventario completo
  - Agregar nuevos libros al cat√°logo
  - Eliminar libros (validando pr√©stamos activos)
  - Editar informaci√≥n de libros existentes

- **üìä Gesti√≥n de Pr√©stamos**:
  - Monitorear todos los pr√©stamos del sistema
  - Ver estados: activos, vencidos, completados
  - Forzar devoluciones
  - Generar reportes de uso

#### ‚ûï Agregar Nuevo Libro
1. **Panel de Admin** ‚Üí `Agregar Libro`
2. **Completar informaci√≥n**:
   - T√≠tulo del libro
   - Autor(es)
   - A√±o de publicaci√≥n
   - Descripci√≥n/contenido
3. **Validar y guardar** en el cat√°logo

## üõ†Ô∏è Gu√≠a de Desarrollo

### Configuraci√≥n del Entorno

#### Prerrequisitos
- **Visual Studio 2019+** con workload ".NET desktop development"
- **SQL Server 2019+** (Express, Standard, o LocalDB)
- **SQL Server Management Studio** (SSMS)

#### Configuraci√≥n Inicial
1. **Clonar repositorio**:
   ```powershell
   git clone <repository-url>
   cd BibliotecaFrom
   ```

2. **Configurar Base de Datos**:
   ```sql
   -- En SSMS, ejecutar en orden:
   -- 1. SQL QUERYS BibliotecaForm\Creacion de BibliotecaFrom.sql
   -- 2. SQL QUERYS BibliotecaForm\Datos de las tablas BibliotecaForm.sql
   -- 3. SQL QUERYS BibliotecaForm\Procedimientos Almacenado BibliotecaFrom.sql
   ```

3. **Configurar cadena de conexi√≥n** en `Program.cs`:
   ```csharp
   public static string CadenaConexion = "Server=TU_SERVIDOR;Database=BibliotecaFrom;Trusted_Connection=True;";
   ```

4. **Compilar y ejecutar**:
   ```powershell
   # Desde Visual Studio: F5 o Ctrl+F5
   # O desde l√≠nea de comandos:
   dotnet build
   dotnet run
   ```

### Arquitectura de C√≥digo

#### Patr√≥n de Dise√±o
El proyecto sigue una **arquitectura de capas** simple pero efectiva:

```mermaid
graph TB
    subgraph "üé® Presentaci√≥n (UI Layer)"
        Forms["Windows Forms<br/>- FrmMenuPrincipal<br/>- FrmUsuario<br/>- FrmAdministrador<br/>- etc."]
    end
    
    subgraph "‚ö° L√≥gica de Negocio (Business Layer)"
        Validation["Validaciones<br/>- Autenticaci√≥n<br/>- Reglas de Pr√©stamo<br/>- Validaci√≥n de Datos"]
        Business["Procesos de Negocio<br/>- Gesti√≥n de Pr√©stamos<br/>- Control de Usuarios<br/>- Gesti√≥n de Cat√°logo"]
    end
    
    subgraph "üíæ Acceso a Datos (Data Layer)"
        DataAccess["ADO.NET<br/>- SqlConnection<br/>- SqlCommand<br/>- SqlDataAdapter"]
        StoredProcs["Stored Procedures<br/>- Consultas Optimizadas<br/>- Operaciones CRUD"]
    end
    
    subgraph "üóÑÔ∏è Base de Datos (Data Storage)"
        Database["SQL Server<br/>- Tabla Usuario<br/>- Tabla Libro<br/>- Tabla Prestamo"]
    end
    
    Forms --> Validation
    Forms --> Business
    Validation --> DataAccess
    Business --> DataAccess
    DataAccess --> StoredProcs
    StoredProcs --> Database
    DataAccess --> Database
```

#### Convenciones de C√≥digo

- **Formularios**: Prefijo `Frm` (ej: `FrmMenuPrincipal`)
- **Variables**: camelCase para variables locales
- **M√©todos**: PascalCase para m√©todos p√∫blicos
- **Constantes**: UPPER_CASE para constantes
- **Controles UI**: Prefijo seg√∫n tipo (btn, txt, dgv, etc.)

### Extensi√≥n del Sistema

#### Agregar Nuevo Formulario
1. **Crear formulario**: Right-click proyecto ‚Üí Add ‚Üí Windows Form
2. **Dise√±ar interfaz** usando el Designer de Visual Studio
3. **Implementar l√≥gica** en el archivo `.cs`
4. **Conectar navegaci√≥n** desde otros formularios

#### Agregar Nueva Funcionalidad de BD
1. **Modificar esquema** de base de datos si es necesario
2. **Crear/Modificar stored procedures**
3. **Actualizar capa de acceso a datos**
4. **Implementar l√≥gica de negocio**
5. **Crear/Modificar formularios UI**

## ü§ù Contribuci√≥n

Las contribuciones son bienvenidas. Si deseas mejorar este proyecto:
1.  Haz un Fork del repositorio.
2.  Crea una nueva rama (`git checkout -b feature/nueva-funcionalidad`).
3.  Realiza tus cambios y haz commit (`git commit -am 'A√±adir nueva funcionalidad'`).
4.  Sube tus cambios a la rama (`git push origin feature/nueva-funcionalidad`).
5.  Abre un Pull Request.

## üìú Licencia

Este proyecto est√° bajo la Licencia MIT. Consulta el archivo [LICENSE](LICENSE) para m√°s detalles.

## üßë‚Äçüíª Autor

Desarrollado con ‚ù§Ô∏è por **J0SE-ESC0BAR**.

Puedes encontrarme en:
*   GitHub: [J0SE-ESC0BAR](https://github.com/J0SE-ESC0BAR)
*   LinkedIn: [https://www.linkedin.com/in/jose-alfonso-escobar-mejia-15133620b/](https://www.linkedin.com/in/jose-alfonso-escobar-mejia-15133620b/)
*   Correo: [jose@jaem.dev](mailto:jose@jaem.dev)
*   Correo: [josealfonsoescobarmejia@gmail.com](mailto:josealfonsoescobarmejia@gmail.com)
*   Portafolio: [https://jaem.dev/projects](https://jaem.dev/projects)
*  Sitio Web: [https://jaem.dev/](https://jaem.dev/)